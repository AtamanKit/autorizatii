(this.webpackJsonpbir_react=this.webpackJsonpbir_react||[]).push([[0],{158:function(t,e,s){},310:function(t,e,s){},329:function(t,e,s){},334:function(t,e,s){},41:function(t,e,s){},473:function(t,e,s){},474:function(t,e,s){"use strict";s.r(e);var a=s(1),i=s.n(a),l=s(52),c=s.n(l),n=(s(310),s(522)),o=s(286),h=(s(329),s(21)),r=s(23),d=(s(65),s(135)),u=(s(137),s(0));class j extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[]}}componentDidMount(){fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t)))}render(){const t=this.state.oficii_items.map((t=>({text:t.name,value:t})));return Object(u.jsx)(d.a,{placeholder:"Selectati oficiu",search:!0,clearable:!0,selection:!0,options:t,onChange:this.props.myChoose})}}var m=j;s(66);class _ extends i.a.Component{constructor(){super(...arguments),this.state={month_items:[],monthNow:""}}componentDidMount(){var t=(new Date).getMonth();const e=[{key:1,text:"Ianuarie",value:"01"},{key:2,text:"Februarie",value:"02"},{key:3,text:"Martie",value:"03"},{key:4,text:"Aprilie",value:"04"},{key:5,text:"Mai",value:"05"},{key:6,text:"Iunie",value:"06"},{key:7,text:"Iulie",value:"07"},{key:8,text:"August",value:"08"},{key:9,text:"Septembrie",value:"09"},{key:10,text:"Octombrie",value:"10"},{key:11,text:"Noiembrie",value:"11"},{key:12,text:"Decembrie",value:"12"}];this.setState({month_items:e}),this.setState({monthNow:e[t].text})}render(){return Object(u.jsx)(d.a,{placeholder:this.state.monthNow,clearable:!0,search:!0,selection:!0,options:this.state.month_items,onChange:this.props.ChMth})}}var b=_;class p extends i.a.Component{render(){const t=this.props.myPt.map((t=>({text:t.pt,value:t})));return Object(u.jsx)(d.a,{placeholder:"Seclectati PT",clearable:!0,selection:!0,search:!0,options:t,onChange:this.props.ChoosePt})}}var g=p;class x extends i.a.Component{render(){const t=this.props.myAngaj.map((t=>({text:t.name+" gr. "+t.gr_ts,value:t})));return Object(u.jsx)(d.a,{placeholder:"Sef de lucrari",clearable:!0,selection:!0,search:!0,options:t,onChange:this.props.ChooseAngaj})}}var O=x,f=s(521);function v(){var t,e=document.cookie.split("; ");for(t=0;t<e.length;t++){if(e[t].includes("status_cookie"))var s=e[t].split("=")[1];if(e[t].includes("angaj_cookie"))var a=e[t].split("=")[1];if(e[t].includes("of_cookie"))var i=e[t].split("=")[1];if(e[t].includes("position"))var l=e[t].split("=")[1]}return[s,a,i,l]}s(334);const S=v();class N extends i.a.Component{render(){return Object(u.jsxs)("div",{className:"numDvs",children:["Numele dvs. este:",Object(u.jsx)("h2",{children:S[1]})]})}}class C extends i.a.Component{render(){return Object(u.jsxs)("p",{className:"total",children:["Total: ",this.props.totalDoc]})}}var A=N;const T=v();var E=("0"+((new Date).getMonth()+1)).slice(-2);class I extends i.a.Component{constructor(){super(...arguments),this.state={items:[],pt_items:[],angaj_items:[],of_select:void 0,mth_select:void 0,pt_select:void 0,angaj_select:void 0,total:void 0},this.LoadOnlyOf=(t,e)=>{fetch(`http://localhost:5000/autorizatii/${t}/${e}/${this.state.pt_select}/${this.state.angaj_select}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({items:t[0].reverse(),total:t[1]}))).catch((t=>console.log(t)))},this.HandleByOf=(t,e)=>{fetch(`http://localhost:5000/autorizatii/${t}/${e}/${this.state.pt_select}/${this.state.angaj_select}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({items:t[0].reverse(),total:t[1]}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/lista-pt/${t}/undefined/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/lista-angaj/${t}/undefined/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t)))},this.HandleOfMth=(t,e)=>{var s=t;void 0===s&&(s=T[2]);var a=e;return void 0!==a&&""!==a||(a=E),[s,a]},this.ChOfFunc=(t,e)=>{const s=this.HandleOfMth(e.value.abr,this.state.mth_select);this.setState({of_select:s[0]}),this.HandleByOf(s[0],s[1])},this.ChMthFunc=(t,e)=>{const s=this.HandleOfMth(this.state.of_select,e.value);fetch(`http://localhost:5000/autorizatii/${s[0]}/${s[1]}/${this.state.pt_select}/${this.state.angaj_select}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({items:t[0].reverse()}))).catch((t=>console.log(t))),this.setState({mth_select:s[1]})},this.ChPtFunc=(t,e)=>{let{value:s}=e;const a=this.HandleOfMth(this.state.of_select,this.state.mth_select);var i=s.pt;""===i&&(i=void 0),fetch(`http://localhost:5000/autorizatii/${a[0]}/${a[1]}/${i}/${this.state.angaj_select}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({items:t[0].reverse()}))).catch((t=>console.log(t))),this.setState({pt_select:i})},this.ChAngajFunc=(t,e)=>{let{value:s}=e;const a=this.HandleOfMth(this.state.of_select,this.state.mth_select);var i=s.name+" gr. "+s.gr_ts;""!==i&&"undefined gr. undefined"!==i||(i=void 0),fetch(`http://localhost:5000/autorizatii/${a[0]}/${a[1]}/${this.state.pt_select}/${i}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({items:t[0].reverse()}))).catch((t=>console.log(t))),this.setState({angaj_select:i})}}componentDidMount(){"approved"!==T[0]&&(document.location.href="/"),"/"===document.location.pathname.slice(-2)?this.HandleByOf(T[2],E):this.LoadOnlyOf(document.location.pathname.slice(-2),E)}render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfFunc})}),Object(u.jsx)("div",{className:"drop-month",children:Object(u.jsx)(b,{ChMth:this.ChMthFunc})}),Object(u.jsx)("div",{className:"drop-pt",children:Object(u.jsx)(g,{myPt:this.state.pt_items,ChoosePt:this.ChPtFunc})}),Object(u.jsx)("div",{className:"drop-angaj",children:Object(u.jsx)(O,{myAngaj:this.state.angaj_items,ChooseAngaj:this.ChAngajFunc})}),Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"18",children:Object(u.jsx)("img",{src:"images/bn_react_bw.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"18",className:"th-al-title",children:"REGISTRU AUTORIZATII (DISPOZITII)"})}),0===this.state.items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr.AL/DS"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Plan"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Instalatia"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"PT"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr.Fider"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Localitatea"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Lucrarile efectuate"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Sef de lucrari"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Membrii formatiei"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Emitent AL/DS"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Masurile tehn."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Semnatura instructaj"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Starea AL/DS"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Pregatire (data, ora)"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Admitere (data, ora)"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Terminare (data, ora)"})]})]}),Object(u.jsx)("tbody",{children:this.state.items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",onContextMenu:this.props.myContext(t,this.state.items.length,this.state.mth_select),onDoubleClick:this.props.goLink(t),onClick:this.props.chColor(t,this.state.items.length),children:[Object(u.jsx)("td",{id:"oficiul_"+t._id,className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{children:t.nr_al}),Object(u.jsx)("td",{className:t.cu_dec.includes("Dispozitie")?"dispozitie":[],children:t.cu_dec}),Object(u.jsx)("td",{children:t.instalatia}),Object(u.jsx)("td",{className:"pt",children:t.pt}),Object(u.jsx)("td",{children:t.fid_nr}),Object(u.jsx)("td",{children:t.localitatea}),Object(u.jsx)("td",{children:t.lucrarile}),Object(u.jsx)("td",{className:"sef",children:t.sef}),Object(u.jsx)("td",{children:t.mem_ech}),Object(u.jsx)("td",{id:"em_"+t._id,children:t.emitent}),Object(u.jsx)("td",{children:t.mas_teh}),Object(u.jsx)("td",{children:t.semnatura}),Object(u.jsx)("td",{id:"starea_"+t._id,className:t.starea.includes("Nou inregistrat")?"nou-inregistrat":t.starea.includes("Acceptat:")?"acceptat":t.starea.includes("Refuz:")?"terminat":"",children:t.starea}),Object(u.jsx)("td",{id:"preg_"+t._id,className:t.pregatire.includes("--")?"terminat":t.pregatire.includes("Pregatire:")?"pregatire":t.pregatire.includes("Cerere")?"nou-inregistrat":t.pregatire.includes("Nu s-a lucrat")?"nu-lucrat":"",children:t.pregatire}),Object(u.jsx)("td",{id:"adm_"+t._id,className:t.admitere.includes("--")?"terminat":t.admitere.includes("Admitere:")?"admitere":t.admitere.includes("Cerere")?"nou-inregistrat":t.admitere.includes("Nu s-a lucrat")?"nu-lucrat":"",children:t.admitere}),Object(u.jsx)("td",{id:"term_"+t._id,className:t.terminare.includes("--")?"terminat":t.terminare.includes("Cerere")?"nou-inregistrat":t.terminare.includes("Nu s-a lucrat")?"nu-lucrat":t.terminare.includes("Intrerupere:")?"intrerupere":"",children:t.terminare})]},t._id)))})]}),Object(u.jsx)(A,{}),Object(u.jsx)(C,{totalDoc:this.state.total})]})}}var F=I,y=(s(158),s(289)),$=s(55);class L extends i.a.Component{constructor(){super(...arguments),this.state={visible:!1},this._handleContextMenu=t=>{if("TD"===t.target.tagName&&window.getSelection().isCollapsed){t.preventDefault(),this.setState({visible:!0});const e=t.clientX,s=t.clientY,a=window.innerWidth,i=window.innerHeight,l=this.root.offsetWidth,c=this.root.offsetHeight,n=a-e>l,o=!n,h=i-s>c,r=!h;n&&(this.root.style.left=`${e+5}px`),o&&(this.root.style.left=e-l-5+"px"),h&&(this.root.style.top=`${s+5}px`),r&&(this.root.style.top=s-c-5+"px")}},this._handleClick=t=>{const{visible:e}=this.state;!(t.target.contains===this.root)&&e&&this.setState({visible:!1})},this._handleScroll=()=>{const{visible:t}=this.state;t&&this.setState({visible:!1})},this.handleItemClick=(t,e)=>{let{name:s}=e;return this.setState({activeItem:s})}}componentDidMount(){document.addEventListener("contextmenu",this._handleContextMenu),document.addEventListener("click",this._handleClick),document.addEventListener("scroll",this._handleScroll)}componentWillUnmount(){document.removeEventListener("contextmenu",this._handleContextMenu),document.removeEventListener("click",this._handleClick),document.removeEventListener("scroll",this._handleScroll)}render(){const{visible:t}=this.state,{activeItem:e}=this.state;return t?Object(u.jsx)("div",{ref:t=>{this.root=t},className:"contextMenu",children:Object(u.jsxs)(y.a,{vertical:!0,size:"large",children:[Object(u.jsxs)(y.a.Item,{name:"refresh",active:"refresh"===e,onClick:this.props.myRefresh,children:["Reload",Object(u.jsx)($.a,{name:"refresh"})]}),Object(u.jsxs)(y.a.Item,{children:["Modificati stare",Object(u.jsxs)(y.a.Menu,{children:[Object(u.jsxs)(y.a.Item,{onClick:this.props.myAccept,children:[Object(u.jsx)($.a,{name:"lock open"}),"Accept"]}),Object(u.jsx)(y.a.Item,{onClick:this.props.myRefuse,children:"Refuz"})]})]}),Object(u.jsxs)(y.a.Item,{children:["Timpul de munca",Object(u.jsx)($.a,{name:"clock"}),Object(u.jsxs)(y.a.Menu,{children:[Object(u.jsx)(y.a.Item,{onClick:this.props.myPreg,children:"Pregatire"}),Object(u.jsx)(y.a.Item,{onClick:this.props.myAdm,children:"Admitere"}),Object(u.jsxs)(y.a.Item,{onClick:this.props.myTerm,children:["Terminare",Object(u.jsx)($.a,{name:"stopwatch"})]}),Object(u.jsx)(y.a.Item,{onClick:this.props.myIntr,children:"Intrerupere"}),Object(u.jsx)(y.a.Item,{onClick:this.props.nuLucr,children:"Nu s-a lucrat"})]})]}),Object(u.jsxs)(y.a.Item,{children:["Editare",Object(u.jsx)($.a,{name:"edit"}),Object(u.jsxs)(y.a.Menu,{children:[Object(u.jsx)(y.a.Item,{name:"pregatire",onClick:this.props.myCorect,children:"Corectati"}),Object(u.jsxs)(y.a.Item,{onClick:this.props.myDel,children:["Stergeti",Object(u.jsx)($.a,{name:"delete"})]})]})]}),Object(u.jsxs)(y.a.Item,{onClick:this.props.myLink,children:["Accesati link",Object(u.jsx)($.a,{name:"chain"})]}),Object(u.jsx)(y.a.Item,{onClick:this.props.myExcel,children:"Exportati Excel"})]})}):null}}var k=L;s(41);class D extends i.a.Component{render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"/images/ataman_enter.png",alt:"Loc pentru logo",style:{display:"block",marginLeft:"auto",marginRight:"auto"}}),Object(u.jsx)("h1",{style:{color:"rgb(255, 255, 255)",textAlign:"center"},children:this.props.ErrorWarning}),Object(u.jsx)("p",{style:{color:"rgb(255, 255, 255)",textAlign:"center",whiteSpace:"pre-wrap"},children:this.props.TypeOf}),Object(u.jsx)(n.a,{className:"form-inreg",children:Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.props.erFunc,children:this.props.erBtn})})})]})}}var H=D;const R=v();class G extends i.a.Component{constructor(){super(...arguments),this.state={of_select:void 0,del_state:void 0,ds_state:void 0,al_state:void 0,starea_status:void 0,preg_status:void 0,adm_status:void 0,term_status:void 0,term_noserv:void 0,term_select:void 0,intr_status:void 0,nulucr_status:void 0,mth_select:void 0,excel_control:!1,excel_status:void 0,excel_noserv:!1},this.HandleToday=()=>{const t=new Date,e=t.getFullYear().toString().slice(-2),s=("0"+(t.getMonth()+1)).slice(-2);return("0"+t.getDate()).slice(-2)+"."+s+"."+e+"\n"+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)},this.RefreshFunc=()=>{void 0!==this.state.of_select?document.location.href=`/${this.state.of_select}`:"/"===document.location.pathname.slice(-2)?document.location.href="/":document.location.href=`/${document.location.pathname.slice(-2)}`},this.NuLucrFunc=()=>{if("Dispecer"===R[3]){const t=document.getElementById("preg_"+this.state.dsAlNum),e=document.getElementById("adm_"+this.state.dsAlNum),s=document.getElementById("term_"+this.state.dsAlNum),a=document.getElementById("starea_"+this.state.dsAlNum);"Pregatire"===t.innerHTML?(t.innerHTML=`Nu s-a lucrat:\n${this.HandleToday()}\n${R[1]}`,t.style.backgroundColor="rgb(13, 158, 163)",e.innerHTML=`Nu s-a lucrat:\n${this.HandleToday()}\n${R[1]}`,e.style.backgroundColor="rgb(13, 158, 163)",s.innerHTML=`Nu s-a lucrat:\n${this.HandleToday()}\n${R[1]}`,s.style.backgroundColor="rgb(13, 158, 163)",fetch(`http://localhost:5000/autorizatii/nulucrat/${this.state.dsAlNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({pregatire:t.innerHTML,admitere:e.innerHTML,terminare:s.innerHTML,starea:a.innerHTML})}).then((t=>t.text())).then((t=>this.setState({nulucr_status:t}))).catch((t=>console.log(t)))):alert("Aceasta obtiune nu poate fi aleasa dupa pregatirea lucrarilor!")}else alert("Nu aveti suficiente drepturi!")},this.TermFunc=()=>{if("Dispecer"===R[3]){const t=document.getElementById("preg_"+this.state.dsAlNum),e=document.getElementById("adm_"+this.state.dsAlNum),s=document.getElementById("term_"+this.state.dsAlNum),a=document.getElementById("starea_"+this.state.dsAlNum);("Terminare"===s.innerHTML||s.innerHTML.includes("Intrerupere:"))&&e.innerHTML.includes("Admitere:")?(this.setState({term_select:!0}),t.innerHTML=t.innerHTML+"\n--",t.style.color="#fff",t.style.backgroundColor="rgb(80, 80, 80)",e.innerHTML=e.innerHTML+"\n--",e.style.color="#fff",e.style.backgroundColor="rgb(80, 80, 80)",s.innerHTML=`Terminat:\n${this.HandleToday()}\n${R[1]}\n--`,s.style.color="#fff",s.style.backgroundColor="rgb(80, 80, 80)",fetch(`http://localhost:5000/autorizatii/terminare/${this.state.dsAlNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({pregatire:t.innerHTML,admitere:e.innerHTML,terminare:s.innerHTML,starea:a.innerHTML})}).then((t=>t.text())).then((t=>this.setState({term_status:t}))).catch((t=>{this.setState({term_noserv:!0})}))):alert("Nu poate fi oferit timpul la terminarea lucrarilor!")}else alert("Nu aveti suficiente drepturi!")},this.IntrFunc=()=>{if("Dispecer"===R[3]){const t=document.getElementById("adm_"+this.state.dsAlNum),e=document.getElementById("term_"+this.state.dsAlNum),s=document.getElementById("starea_"+this.state.dsAlNum);"Terminare"===e.innerHTML&&t.innerHTML.includes("Admitere:")?(e.innerHTML=`Intrerupere:\n${this.HandleToday()}\n${R[1]}\n`,e.style.color="#fff",e.style.backgroundColor="rgb(137, 156, 134)",fetch(`http://localhost:5000/autorizatii/intrerupere/${this.state.dsAlNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({intrerupere:e.innerHTML,starea:s.innerHTML})}).then((t=>t.text())).then((t=>this.setState({intr_status:t}))).catch((t=>console.log(t)))):alert("AL/DS nu poate fi intrerupta!\nSau AL/DS deja este intrerupta!")}else alert("Nu aveti suficiente drepturi!")},this.AdmFunc=()=>{if("Dispecer"===R[3]){const t=document.getElementById("preg_"+this.state.dsAlNum),e=document.getElementById("adm_"+this.state.dsAlNum),s=document.getElementById("starea_"+this.state.dsAlNum);"Admitere"===e.innerHTML&&t.innerHTML.includes("Pregatire:")?(e.innerHTML=`Admitere:\n${this.HandleToday()}\n${R[1]}`,e.style.backgroundColor="rgb(194, 199, 40)",fetch(`http://localhost:5000/autorizatii/admitere/${this.state.dsAlNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({admitere:e.innerHTML,starea:s.innerHTML})}).then((t=>t.text())).then((t=>this.setState({adm_status:t}))).catch((t=>console.log(t)))):alert("Nu poate fi oferit timpul la admitere!")}else alert("Nu aveti suficiente drepturi!")},this.PregFunc=()=>{if("Dispecer"===R[3]){const t=document.getElementById("starea_"+this.state.dsAlNum),e=document.getElementById("preg_"+this.state.dsAlNum);"Pregatire"===e.innerHTML&&t.innerHTML.includes("Acceptat:")?(e.innerHTML=`Pregatire:\n${this.HandleToday()}\n${R[1]}`,e.style.color="#fff",e.style.backgroundColor="rgb(35, 99, 145)",fetch(`http://localhost:5000/autorizatii/pregatire/${this.state.dsAlNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({pregatire:e.innerHTML,starea:t.innerHTML})}).then((t=>t.text())).then((t=>this.setState({preg_status:t}))).catch((t=>console.log(t)))):alert("Nu poate fi oferit timpul la pregatire!")}else alert("Nu aveti suficiente drepturi!")},this.RefuseFunc=()=>{if("Dispecer"===R[3]){const t=document.getElementById("starea_"+this.state.dsAlNum);"Nou inregistrat"===t.innerHTML?(t.innerHTML=`Refuz:\n${this.HandleToday()}\n${R[1]}`,t.style.background="rgb(80, 80, 80)",fetch(`http://localhost:5000/autorizatii/starea/${this.state.dsAlNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({starea:t.innerHTML})}).then((t=>t.text())).then((t=>this.setState({starea_status:t}))).catch((t=>console.log(t)))):alert("Nu este posibil refuzul!")}else alert("Nu aveti suficiente drepturi!")},this.AcceptFunc=()=>{if("Dispecer"===R[3]){const t=document.getElementById("starea_"+this.state.dsAlNum);"Nou inregistrat"===t.innerHTML?(t.innerHTML=`Acceptat:\n${this.HandleToday()}\n${R[1]}`,t.style.color="#000",t.style.backgroundColor="rgb(92, 156, 107)",fetch(`http://localhost:5000/autorizatii/starea/${this.state.dsAlNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({starea:t.innerHTML})}).then((t=>t.text())).then((t=>this.setState({starea_status:t}))).catch((t=>console.log(t)))):alert("Nu este posibila acceptarea!")}else alert("Nu aveti suficiente drepturi!")},this.CorectFunc=()=>{var t=document.getElementById("oficiul_"+this.state.dsAlNum),e=document.getElementById("em_"+this.state.dsAlNum),s=document.getElementById("starea_"+this.state.dsAlNum);const a=document.getElementById("preg_"+this.state.dsAlNum);if(t=t.innerHTML,"Nou inregistrat"!==(s=s.innerHTML))var i=s.split("\n");else i=e.innerHTML.split("\n");i=i[1].split("."),"Pregatire"===a.innerHTML?!0===this.state.ds_state?document.location.href=`/corect-ds/${this.state.dsAlNum}`:!0===this.state.al_state&&(document.location.href=`/corect-al/${t}/${this.state.dsAlNum}/${i[1]}`):alert("Nu pot fi efectuate corectari dupa pregatirea locului de munca!")},this.DeleteFunc=()=>{if("Dispecer"===R[3]){const t=document.getElementById("preg_"+this.state.dsAlNum),e=document.getElementById("dsAl_"+this.state.dsAlNum);"Pregatire"===t.innerHTML?(fetch(`http://localhost:5000/autorizatii/delete/${this.state.dsAlNum}/`),e.style.display="none"):alert("Aceasta obtiune nu poate fi aleasa dupa pregatirea lucrarilor!")}else alert("Nu aveti suficiente drepturi!")},this.LinkFunc=()=>{this.state.docLink.includes("http")?window.open(this.state.docLink):""===this.state.docLink||this.state.docLink.includes("http")?alert("Nu exista link!"):alert("Nu exista link pe internet!\n"+this.state.docLink)},this.ExcelFunc=()=>{this.setState({excel_status:!0}),fetch(`http://127.0.0.1:5000/autorizatii/excel/${this.state.mth_select}/`,{method:"GET"}).then((t=>this.setState({excel_control:t}))).catch((t=>this.setState({excel_noserv:!0})))},this.HandleLink=t=>e=>{t.link.includes("http")?window.open(t.link):""===t.link||t.link.includes("http")?alert("Nu exista link!"):alert("Nu exista link pe internet!\n"+t.link)},this.HandleReload=()=>{document.location.reload()},this.HandleContext=(t,e,s)=>a=>{const{dsAlNum:i}=this.state;this.setState({dsAlNum:t._id});const{docLink:l}=this.state;this.setState({docLink:t.link}),this.setState({of_select:t.oficiul}),""!==t.nr_ds?(this.setState({ds_state:!0}),this.setState({al_state:void 0})):""!==t.nr_al&&(this.setState({al_state:!0}),this.setState({ds_state:void 0})),this.ChColorTr(t,e),this.setState({mth_select:s})},this.HandleClick=(t,e)=>s=>{this.ChColorTr(t,e)}}ChColorTr(t,e){for(var s=3;s<e+3;s++)document.getElementsByTagName("tr")[s].style.background="rgb(230, 230, 230)";document.getElementById("dsAl_"+t._id).style.background="rgb(200, 200, 200)"}render(){return"non-approved"===this.state.starea_status?Object(u.jsx)(H,{ErrorWarning:"EROARE:",TypeOf:"Starea nu poate fi modificata!\nPosibil undeva mai este deschisa o fereastra!",erFunc:this.HandleReload,erBtn:"Registru AL/DS"}):"non-approved"===this.state.preg_status?Object(u.jsx)(H,{ErrorWarning:"EROARE:",TypeOf:"A fost oferit, deja, timpul la PREGATIRE!\nPosibil undeva mai este deschisa o fereastra!",erFunc:this.HandleReload,erBtn:"Registru AL/DS"}):"non-approved"===this.state.adm_status?Object(u.jsx)(H,{ErrorWarning:"EROARE:",TypeOf:"A fost oferit, deja, timpul la ADMITERE!\nPosibil undeva mai este deschisa o fereastra!",erFunc:this.HandleReload,erBtn:"Registru AL/DS"}):"non-approved"===this.state.term_status?Object(u.jsx)(H,{ErrorWarning:"EROARE:",TypeOf:"A fost oferit, deja, timpul la TERMINAREA lucrarilor!\nPosibil undeva mai este deschisa o fereastra!",erFunc:this.HandleReload,erBtn:"Registru AL/DS"}):"non-approved"===this.state.nulucr_status?Object(u.jsx)(H,{ErrorWarning:"EROARE:",TypeOf:"Nu pot fi anulate lucrarile!\nRupbrica a fost, deja, completata!",erFunc:this.HandleReload,erBtn:"Registru AL/DS"}):"non-approved"===this.state.intr_status?Object(u.jsx)(H,{ErrorWarning:"EROARE:",TypeOf:"Pe AL/DS data lucrarile, deja, au fost intrerupte!\nPosibil undeva mai este deschisa o fereastra!",erFunc:this.HandleReload,erBtn:"Registru AL/DS"}):403===this.state.excel_control.status?Object(u.jsx)(H,{ErrorWarning:"EROARE 403:",TypeOf:"Nu s-au inscris datele in REAGISTRU AUTORIZATII excel!\nPosibil undeva este deschisa aplicatia excel!",erFunc:this.HandleReload,erBtn:"Registru AL/DS"}):this.state.excel_noserv?Object(u.jsx)(H,{ErrorWarning:"EROARE 403:",TypeOf:"Posibil nu este pornit serverul local!",erFunc:this.HandleReload,erBtn:"Registru AL/DS"}):Object(u.jsxs)("div",{children:[this.state.excel_status&&!1===this.state.excel_control?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)(F,{myContext:this.HandleContext,goLink:this.HandleLink,chColor:this.HandleClick}),",",Object(u.jsx)(k,{myRefresh:this.RefreshFunc,myAccept:this.AcceptFunc,myRefuse:this.RefuseFunc,myPreg:this.PregFunc,myAdm:this.AdmFunc,myTerm:this.TermFunc,myIntr:this.IntrFunc,nuLucr:this.NuLucrFunc,myCorect:this.CorectFunc,myDel:this.DeleteFunc,myLink:this.LinkFunc,myExcel:this.ExcelFunc})]})}}var M=G;class P extends i.a.Component{constructor(){super(...arguments),this.state={visible:!1},this._handleContextMenu=t=>{if("TD"===t.target.tagName&&window.getSelection().isCollapsed){t.preventDefault(),this.setState({visible:!0});const e=t.clientX,s=t.clientY,a=window.innerWidth,i=window.innerHeight,l=this.root.offsetWidth,c=this.root.offsetHeight,n=a-e>l,o=!n,h=i-s>c,r=!h;n&&(this.root.style.left=`${e+5}px`),o&&(this.root.style.left=e-l-5+"px"),h&&(this.root.style.top=`${s+5}px`),r&&(this.root.style.top=s-c-5+"px")}},this._handleClick=t=>{const{visible:e}=this.state;!(t.target.contains===this.root)&&e&&this.setState({visible:!1})},this._handleScroll=()=>{const{visible:t}=this.state;t&&this.setState({visible:!1})},this.handleItemClick=(t,e)=>{let{name:s}=e;return this.setState({activeItem:s})}}componentDidMount(){document.addEventListener("contextmenu",this._handleContextMenu),document.addEventListener("click",this._handleClick),document.addEventListener("scroll",this._handleScroll)}componentWillUnmount(){document.removeEventListener("contextmenu",this._handleContextMenu),document.removeEventListener("click",this._handleClick),document.removeEventListener("scroll",this._handleScroll)}render(){const{visible:t}=this.state,{activeItem:e}=this.state;return t?Object(u.jsx)("div",{ref:t=>{this.root=t},className:"contextMenu",children:Object(u.jsxs)(y.a,{vertical:!0,size:"large",children:[Object(u.jsxs)(y.a.Item,{name:"refresh",active:"refresh"===e,onClick:this.props.myRefresh,children:["Reload",Object(u.jsx)($.a,{name:"refresh"})]}),Object(u.jsxs)(y.a.Item,{children:["Editare deranjament",Object(u.jsx)($.a,{name:"edit"}),Object(u.jsxs)(y.a.Menu,{children:[Object(u.jsxs)(y.a.Item,{onClick:this.props.myVaz,children:["Am vazut",Object(u.jsx)($.a,{name:"eye"})]}),Object(u.jsxs)(y.a.Item,{onClick:this.props.myExec,children:["Am executat",Object(u.jsx)($.a,{name:"pencil alternate"})]})]})]}),Object(u.jsx)(d.a,{item:!0,text:"Inregistrati",children:Object(u.jsx)(d.a.Menu,{children:Object(u.jsx)(d.a.Item,{text:"Deranjament",onClick:this.props.myDeranj})})})]})}):null}}var z=P;class q extends i.a.Component{render(){const t=this.props.mySect.map((t=>({text:t.name,value:t})));return Object(u.jsx)(d.a,{placeholder:"Seclectati sector",clearable:!0,search:!0,selection:!0,options:t,onChange:this.props.ChooseSect})}}var w=q,B=s(243),U=v();class W extends i.a.Component{constructor(){super(...arguments),this.state={deranj_items:[],sect_items:[],of_select:void 0,sect_select:void 0,sectOf_select:void 0,neex_select:!1},this.ChOfDeranj=(t,e)=>{var s=e.value.abr;void 0!==e.value.abr&&""!==e.value.abr||(s=U[2]),fetch(`http://localhost:5000/sectoare/${s}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({sect_items:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/deranjamente/${s}/${this.state.sect_select}/${this.state.sectOf_select}/${this.state.neex_select}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({deranj_items:t.reverse()}))).catch((t=>console.log(t))),this.setState({of_select:s})},this.ChSectDeranj=(t,e)=>{if(void 0===this.state.of_select)var s=U[2];else s=this.state.of_select;fetch(`http://localhost:5000/deranjamente/${s}/${e.value.name}/${e.value.oficiul}/${this.state.neex_select}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({deranj_items:t.reverse()}))).catch((t=>console.log(t))),this.setState({sect_select:e.value.name}),this.setState({sectOf_select:e.value.oficiul})},this.ChNeex=(t,e)=>{if(void 0===this.state.of_select)var s=U[2];else s=this.state.of_select;fetch(`http://localhost:5000/deranjamente/${s}/${this.state.sect_select}/${this.state.sectOf_select}/${e.checked}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({deranj_items:t.reverse()}))).catch((t=>console.log(t))),this.setState({neex_select:e.checked})}}componentDidMount(){if("/deranj-context"===document.location.pathname)var t=U[2];else t=document.location.pathname.slice(-2);fetch(`http://localhost:5000/deranjamente/${t}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({deranj_items:t.reverse()}))).catch((t=>console.log(t))),"/deranj-context"===document.location.pathname&&fetch(`http://localhost:5000/sectoare/${t}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({sect_items:t}))).catch((t=>console.log(t)))}render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfDeranj})}),Object(u.jsx)("div",{className:"drop-sect",children:Object(u.jsx)(w,{mySect:this.state.sect_items,ChooseSect:this.ChSectDeranj})}),"/deranj-context"===document.location.pathname||"/deranj-context"!==document.location.pathname&&void 0!==this.state.of_select?Object(u.jsx)("div",{className:"check",children:Object(u.jsx)(B.a,{onChange:this.ChNeex,label:"Neexecutat"})}):[],Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"12",children:Object(u.jsx)("img",{src:"/images/deranj_sec.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"12",className:"th-al-title",children:"REGISTRU DERANJAMENTE"})}),0===this.state.deranj_items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Transmis"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Sector"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Instalatia"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Fider 10kV"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"PT"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Fider 0,4kV"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Continutul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Data, ora"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Responsabil"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Starea"})]})]}),Object(u.jsx)("tbody",{children:this.state.deranj_items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",onContextMenu:this.props.myContext(t,this.state.deranj_items.length),onClick:this.props.chColor(t,this.state.deranj_items.length),children:[Object(u.jsx)("td",{className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{children:t.nr_ordine}),Object(u.jsx)("td",{children:t.transmis}),Object(u.jsx)("td",{children:t.sector}),Object(u.jsx)("td",{children:t.instalatia}),Object(u.jsx)("td",{children:t.fid_10kv}),Object(u.jsx)("td",{className:"pt",children:t.pt}),Object(u.jsx)("td",{children:t.fid_04kv}),Object(u.jsx)("td",{className:"continutul",children:t.continutul}),Object(u.jsx)("td",{children:t.data}),Object(u.jsx)("td",{id:"vaz_"+t._id,children:t.responsabil}),Object(u.jsx)("td",{id:"exec_"+t._id,className:t.starea.includes("Neexecutat")?"nou-inregistrat":"executat",children:t.starea})]},t._id)))})]}),Object(u.jsx)(A,{totalDoc:"test"})]})}}var J=W;const Y=v();class V extends i.a.Component{constructor(){super(...arguments),this.state={},this.HandleToday=()=>{const t=new Date,e=t.getFullYear().toString().slice(-2),s=("0"+(t.getMonth()+1)).slice(-2);return("0"+t.getDate()).slice(-2)+"."+s+"."+e+"\n "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)},this.RefreshFunc=()=>{document.location.href="/deranj-context"},this.DeranjFunc=()=>{document.location.href="/inreg-deranj"},this.ExecFunc=()=>{const t=document.getElementById("exec_"+this.state.deranjNum);"Neexecutat"===t.innerHTML?(t.innerHTML=`Executat:\n${this.HandleToday()}\n${Y[1]}`,t.style.backgroundColor="rgb(68, 112, 71)",t.style.color="rgb(0, 0, 0)",fetch(`http://localhost:5000/deranjament/executat/${this.state.deranjNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({exec:t.innerHTML})})):alert("Deranjamentul este lichidat!")},this.VazFunc=()=>{const t=document.getElementById("vaz_"+this.state.deranjNum);"Semnatura"===t.innerHTML?(t.innerHTML=`Vazut:\n${this.HandleToday()}\n${Y[1]}`,fetch(`http://localhost:5000/deranjament/vazut/${this.state.deranjNum}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({vazut:t.innerHTML})})):alert("Deranjamentul a fost deja avizat!")},this.HandleContext=(t,e)=>s=>{const{deranjNum:a}=this.state;this.setState({deranjNum:t._id}),this.ChColorTr(t,e)},this.HandleClick=(t,e)=>s=>{this.ChColorTr(t,e)}}ChColorTr(t,e){for(var s=3;s<e+3;s++)document.getElementsByTagName("tr")[s].style.background="rgb(230, 230, 230)";document.getElementById("dsAl_"+t._id).style.background="rgb(200, 200, 200)"}render(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(J,{myContext:this.HandleContext,chColor:this.HandleClick}),",",Object(u.jsx)(z,{myRefresh:this.RefreshFunc,myVaz:this.VazFunc,myExec:this.ExecFunc,myDeranj:this.DeranjFunc})]})}}var X=V;const Z=v();class K extends i.a.Component{constructor(){super(...arguments),this.state={nepr_anual_items:[]},this.HandleOF=t=>{fetch(`http://localhost:5000/nepr-anual/${t}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({nepr_anual_items:t}))).catch((t=>console.log(t)))},this.ChOfFunc=(t,e)=>{var s=e.value.abr;void 0===s&&(s=Z[2]),this.HandleOF(s)}}componentDidMount(){this.HandleOF(Z[2])}render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)(A,{}),Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfFunc})}),Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"8",children:Object(u.jsx)("img",{src:"images/deconect.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"8",className:"th-al-title",children:"DECONECTARI ANUALE NEPROGRAMATE"})}),0===this.state.nepr_anual_items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"PT, Fider"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Localitate"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. cons."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Ore"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. dec."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. regl."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Compensatie"})]})]}),Object(u.jsx)("tbody",{children:this.state.nepr_anual_items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",children:[Object(u.jsx)("td",{className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{className:"pt",children:t.pt_fider}),Object(u.jsx)("td",{children:t.localitate}),Object(u.jsx)("td",{children:t.nr_cons}),Object(u.jsx)("td",{children:t.ore}),Object(u.jsx)("td",{children:t.nr_dec}),Object(u.jsx)("td",{className:t.nr_regl.includes("Incadrat")?"executat":"nou-inregistrat",children:t.nr_regl}),Object(u.jsx)("td",{children:t.compens})]},t._id)))})]})]})}}var Q=K;class tt extends i.a.Component{constructor(){super(...arguments),this.state={visible:!1},this._handleContextMenu=t=>{if("TD"===t.target.tagName&&window.getSelection().isCollapsed){t.preventDefault(),this.setState({visible:!0});const e=t.clientX,s=t.clientY,a=window.innerWidth,i=window.innerHeight,l=this.root.offsetWidth,c=this.root.offsetHeight,n=a-e>l,o=!n,h=i-s>c,r=!h;n&&(this.root.style.left=`${e+5}px`),o&&(this.root.style.left=e-l-5+"px"),h&&(this.root.style.top=`${s+5}px`),r&&(this.root.style.top=s-c-5+"px")}},this._handleClick=t=>{const{visible:e}=this.state;!(t.target.contains===this.root)&&e&&this.setState({visible:!1})},this._handleScroll=()=>{const{visible:t}=this.state;t&&this.setState({visible:!1})},this.handleItemClick=(t,e)=>{let{name:s}=e;return this.setState({activeItem:s})}}componentDidMount(){document.addEventListener("contextmenu",this._handleContextMenu),document.addEventListener("click",this._handleClick),document.addEventListener("scroll",this._handleScroll)}componentWillUnmount(){document.removeEventListener("contextmenu",this._handleContextMenu),document.removeEventListener("click",this._handleClick),document.removeEventListener("scroll",this._handleScroll)}render(){const{visible:t}=this.state,{activeItem:e}=this.state;return t?Object(u.jsx)("div",{ref:t=>{this.root=t},className:"contextMenu",children:Object(u.jsx)(y.a,{vertical:!0,size:"large",children:Object(u.jsx)(y.a.Item,{onClick:this.props.myExcel,children:"Exportati Excel"})})}):null}}var et=tt;const st=v();class at extends i.a.Component{constructor(){super(...arguments),this.state={nepr_lunar_items:[],of_select:void 0,mth_select:void 0,excel_control:!1,excel_status:void 0,excel_noserv:!1},this.HandleOfMth=t=>{fetch(`http://localhost:5000/nepr-lunar/${t}/undefined/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({nepr_lunar_items:t.reverse()}))).catch((t=>console.log(t)))},this.HandleOf=t=>{var e=t;return void 0===e&&(e=st[2]),e},this.ChOfFunc=(t,e)=>{let{value:s}=e;var a=this.HandleOf(s.abr);this.HandleOfMth(a),this.setState({of_select:a})},this.ChMthFunc=(t,e)=>{let{value:s}=e;var a=this.HandleOf(this.state.of_select);""===s&&(s=void 0),fetch(`http://localhost:5000/nepr-lunar/${a}/${s}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({nepr_lunar_items:t.reverse()}))).catch((t=>console.log(t))),this.setState({mth_select:s})},this.ExcelFunc=()=>{this.setState({excel_status:!0}),fetch(`http://127.0.0.1:5000/nepr-lunar/excel/${this.state.mth_select}/`,{method:"GET"}).then((t=>this.setState({excel_control:t}))).catch((t=>this.setState({excel_noserv:!0})))},this.HandleReload=()=>{document.location.reload()}}componentDidMount(){"ar"===document.location.pathname.slice(-2)?this.HandleOfMth(st[2]):this.HandleOfMth(document.location.pathname.slice(-2))}render(){return 403===this.state.excel_control.status?Object(u.jsx)(H,{ErrorWarning:"EROARE 403:",TypeOf:"Nu s-au introdus datele in SAIDI excel!\nPosibil undeva este deschisa aplicatia excel!",erFunc:this.HandleReload,erBtn:"Deconectari neprogramate lunare"}):this.state.excel_noserv?Object(u.jsx)(H,{ErrorWarning:"EROARE 403:",TypeOf:"Posibil nu este pornit serverul local!",erFunc:this.HandleReload,erBtn:"Deconectari neprogramate lunare"}):Object(u.jsxs)(i.a.Fragment,{children:[this.state.excel_status&&!1===this.state.excel_control?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)(et,{myExcel:this.ExcelFunc}),Object(u.jsx)(A,{}),Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfFunc})}),Object(u.jsx)("div",{className:"drop-month",children:Object(u.jsx)(b,{ChMth:this.ChMthFunc})}),Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"14",children:Object(u.jsx)("img",{src:"../images/deconect.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"14",className:"th-al-title",children:"DECONECTARI LUNARE NEPROGRAMATE"})}),0===this.state.nepr_lunar_items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. ordine"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"PT"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Fider 0,4kV"}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Data si ora",Object(u.jsx)("br",{}),"deconectarii"]}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Data si ora",Object(u.jsx)("br",{}),"conectarii"]}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Durata",Object(u.jsx)("br",{}),"intreruperii"]}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cons. casnici"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cons. non-casnici"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Total cons."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Lacalitate"}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Cauza",Object(u.jsx)("br",{}),"deconectarii"]}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Termen",Object(u.jsx)("br",{}),"reglementat"]}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Compensatie",Object(u.jsx)("br",{}),"(lei)"]})]})]}),Object(u.jsx)("tbody",{children:this.state.nepr_lunar_items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",children:[Object(u.jsx)("td",{className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{children:t._id}),Object(u.jsx)("td",{className:""===t.pt?"":"pt",children:t.pt}),Object(u.jsx)("td",{children:t.fid_04kv}),Object(u.jsx)("td",{children:t.data_dec}),Object(u.jsx)("td",{children:t.data_conect}),Object(u.jsx)("td",{children:t.durata}),Object(u.jsx)("td",{children:t.cons_cas}),Object(u.jsx)("td",{children:t.cons_ec}),Object(u.jsx)("td",{children:t.total}),Object(u.jsx)("td",{children:t.localitate}),Object(u.jsx)("td",{children:t.cauza}),Object(u.jsx)("td",{className:t.termen.includes("Incadrat")?"executat":t.termen.includes("Depasit")?"nou-inregistrat":"",children:t.termen}),Object(u.jsx)("td",{children:t.compens})]},t._id)))})]})]})}}var it=at;const lt=v();class ct extends i.a.Component{constructor(){super(...arguments),this.state={prog_anual_items:[]},this.HandleOF=t=>{fetch(`http://localhost:5000/prog-anual/${t}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({prog_anual_items:t}))).catch((t=>console.log(t)))},this.ChOfFunc=(t,e)=>{var s=e.value.abr;void 0===s&&(s=lt[2]),this.HandleOF(s)}}componentDidMount(){this.HandleOF(lt[2])}render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)(A,{}),Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfFunc})}),Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"8",children:Object(u.jsx)("img",{src:"images/deconect.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"8",className:"th-al-title",children:"DECONECTARI ANUALE PROGRAMATE"})}),0===this.state.prog_anual_items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"PT, Fider"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Localitate"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. cons."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Ore"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. dec."})]})]}),Object(u.jsx)("tbody",{children:this.state.prog_anual_items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",children:[Object(u.jsx)("td",{className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{className:"pt",children:t.pt_fider}),Object(u.jsx)("td",{children:t.localitate}),Object(u.jsx)("td",{children:t.nr_cons}),Object(u.jsx)("td",{children:t.ore}),Object(u.jsx)("td",{children:t.nr_dec})]},t._id)))})]})]})}}var nt=ct;const ot=v();class ht extends i.a.Component{constructor(){super(...arguments),this.state={prog_lunar_items:[],of_select:void 0,mth_select:void 0,excel_control:!1,excel_status:void 0,excel_noserv:!1},this.HandleOfMth=t=>{fetch(`http://localhost:5000/prog-lunar/${t}/undefined/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({prog_lunar_items:t.reverse()}))).catch((t=>console.log(t)))},this.HandleOf=t=>{var e=t;return void 0===e&&(e=ot[2]),e},this.ChOfFunc=(t,e)=>{let{value:s}=e;var a=this.HandleOf(s.abr);this.HandleOfMth(a),this.setState({of_select:a})},this.ChMthFunc=(t,e)=>{let{value:s}=e;var a=this.HandleOf(this.state.of_select);""===s&&(s=void 0),fetch(`http://localhost:5000/prog-lunar/${a}/${s}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({prog_lunar_items:t.reverse()}))).catch((t=>console.log(t))),this.setState({mth_select:s})},this.ExcelFunc=()=>{this.setState({excel_status:!0}),fetch(`http://localhost:5000/prog-lunar/excel/${this.state.mth_select}/`,{method:"GET"}).then((t=>this.setState({excel_control:t}))).catch((t=>this.setState({excel_noserv:!0})))},this.HandleReload=()=>{document.location.reload()}}componentDidMount(){this.HandleOfMth(ot[2])}render(){return 403===this.state.excel_control.status?Object(u.jsx)(H,{ErrorWarning:"EROARE 403:",TypeOf:"Nu s-au introdus datele in SAIDI excel!\nPosibil undeva este deschisa aplicatia excel!",erFunc:this.HandleReload,erBtn:"Deconectari programate lunare"}):this.state.excel_noserv?Object(u.jsx)(H,{ErrorWarning:"EROARE 403:",TypeOf:"Posibil nu este pornit serverul local!",erFunc:this.HandleReload,erBtn:"Deconectari programate lunare"}):Object(u.jsxs)(i.a.Fragment,{children:[this.state.excel_status&&!1===this.state.excel_control?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)(et,{myExcel:this.ExcelFunc}),Object(u.jsx)(A,{}),Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfFunc})}),Object(u.jsx)("div",{className:"drop-month",children:Object(u.jsx)(b,{ChMth:this.ChMthFunc})}),Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"14",children:Object(u.jsx)("img",{src:"images/deconect.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"14",className:"th-al-title",children:"DECONECTARI LUNARE PROGRAMATE"})}),0===this.state.prog_lunar_items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. ordine"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"PT"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Fider 0,4kV"}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Data si ora",Object(u.jsx)("br",{}),"deconectarii"]}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Data si ora",Object(u.jsx)("br",{}),"conectarii"]}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Durata",Object(u.jsx)("br",{}),"intreruperii"]}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cons. casnici"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cons. non-casnici"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Total cons."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Lacalitate"}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Cauza",Object(u.jsx)("br",{}),"deconectarii"]}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Termen",Object(u.jsx)("br",{}),"reglementat"]}),Object(u.jsxs)("th",{className:"th-al-column-name",children:["Compensatie",Object(u.jsx)("br",{}),"(lei)"]})]})]}),Object(u.jsx)("tbody",{children:this.state.prog_lunar_items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",children:[Object(u.jsx)("td",{className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{children:t._id}),Object(u.jsx)("td",{className:""===t.pt?"":"pt",children:t.pt}),Object(u.jsx)("td",{children:t.fid_04kv}),Object(u.jsx)("td",{children:t.data_dec}),Object(u.jsx)("td",{children:t.data_conect}),Object(u.jsx)("td",{children:t.durata}),Object(u.jsx)("td",{children:t.cons_cas}),Object(u.jsx)("td",{children:t.cons_ec}),Object(u.jsx)("td",{children:t.total}),Object(u.jsx)("td",{children:t.localitate}),Object(u.jsx)("td",{children:t.cauza}),Object(u.jsx)("td",{className:t.termen.includes("Incadrat")?"executat":t.termen.includes("Depasit")?"nou-inregistrat":"",children:t.termen}),Object(u.jsx)("td",{children:t.compens})]},t._id)))})]})]})}}var rt=ht;class dt extends i.a.Component{componentDidMount(){document.cookie="status_cookie=non-approved",document.cookie="of_cookie=",document.cookie="angaj_cookie=",document.location.href="/"}render(){return Object(u.jsx)(M,{})}}var ut=dt;function jt(t){return"FL"===t?t="Falesti":"GL"===t?t="Glodeni":"RS"===t?t="Riscani":"UN"===t&&(t="Ungheni"),t}class mt extends i.a.Component{render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{className:"up-space-reus"}),Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:this.props.title}),Object(u.jsx)(n.a,{className:"form-inreg",children:Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.props.func,children:this.props.reg})}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login-vezi",onClick:this.props.greenFunc,children:this.props.green})})]})})]})}}var _t=mt;function bt(){const t=new Date,e=t.getFullYear().toString().slice(-2),s=("0"+(t.getMonth()+1)).slice(-2),a=("0"+t.getDate()).slice(-2),i=("0"+t.getHours()).slice(-2),l=("0"+t.getMinutes()).slice(-2);return[a+"."+s+"."+e+"\n"+i+":"+l,a,s,e,i,l,("0"+t.getSeconds()).slice(-2)]}var pt=s(100);const gt=v(),xt=jt(gt[2]),Ot=bt();class ft extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],cu_dec_items:[],angaj_items:[],inst_items:[],pt_items:[],lucr_items:[],fid_select:[],of_select:void 0,cu_dec_select:void 0,sef_select:void 0,mem_select:void 0,em_select:void 0,inst_select:void 0,pt_select:void 0,fid_select:void 0,lucr_select:void 0,sm_select:void 0,of_status:!1,cu_dec_status:!1,sef_status:!1,em_status:!1,inst_status:!1,pt_status:!1,fid_status:!1,lucr_status:!1,sm_status:!1,link_al:void 0,local_link:void 0,success_status:!1,inreg_status:!1,dsAl_num:void 0,inst_ad:void 0,upload_status:void 0,gr_select:void 0,ts_select:void 0,auto_select:void 0,_date:void 0},this.OfChoose=(t,e)=>{fetch(`http://localhost:5000/angajati/${e.value.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/pt/${e.value.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t))),""!==e.value?this.setState({of_status:!0}):this.setState({of_status:!1}),this.setState({of_select:e.value.abr})},this.OfInput=t=>{document.getElementById("of_input").innerText=gt[2]},this.Cu_decSelect=(t,e)=>{""!==e.value?this.setState({cu_dec_status:!0}):this.setState({cu_dec_status:!1}),this.setState({cu_dec_select:e.value})},this.SefSelect=(t,e)=>{""!==e.value?this.setState({sef_status:!0}):this.setState({sef_status:!1}),this.setState({sef_select:e.value.name+" gr. "+e.value.gr_ts})},this.MemSelect=(t,e)=>{var s,a="";for(s=0;s<e.value.length;s++)a+=e.value[s].name+" gr. "+e.value[s].gr_ts+",";this.setState({mem_select:a})},this.EmSelect=(t,e)=>{""!==e.value?this.setState({em_status:!0}):this.setState({em_status:!1}),this.setState({em_select:e.value.name}),this.setState({gr_select:e.value.gr_ts})},this.EmInput=t=>{document.getElementById("em_input").innerText=gt[1]+" gr. "+this.state.gr_select},this.InstSelect=(t,e)=>{""!==e.value?this.setState({inst_status:!0}):this.setState({inst_status:!1}),this.setState({inst_select:e.value})},this.InstAd=(t,e)=>{let{value:s}=e;this.setState({inst_ad:s})},this.PtSelect=(t,e)=>{if(""!==e.value?this.setState({pt_status:!0}):this.setState({pt_status:!1}),e.value.length){var s,a="";for(s=0;s<e.value.length;s++)a+=e.value[s].pt+","}else a=e.value.pt;this.setState({pt_select:a})},this.FidSelect=(t,e)=>{if(""!==e.value?this.setState({fid_status:!0}):this.setState({fid_status:!1}),e.value.length){var s,a="";for(s=0;s<e.value.length;s++)a+=e.value[s]+","}else a=e.value;this.setState({fid_select:a})},this.LucrSelect=(t,e)=>{""!==e.value?this.setState({lucr_status:!0}):this.setState({lucr_status:!1});var s,a=[];for(s=0;s<e.value.length;s++)a+=e.value[s]+",";this.setState({lucr_select:a})},this.SmSelect=(t,e)=>{""!==e.value?this.setState({sm_status:!0}):this.setState({sm_status:!1});var s;for(s=0;s<e.value.length;s++)e.value[s]+",";this.setState({sm_select:e.value})},this.LinkAl=t=>{this.setState({upload_status:!0});const e=new FormData;e.append("file",t.target.files[0]),fetch("http://localhost:5000/upload-file/",{method:"POST",body:e}).then((t=>t.text())).then((t=>this.setState({local_link:t}))).catch((t=>console.log(t)))},this.HandleReus=()=>{document.location.href=`/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()},this.ChAuto=(t,e)=>{fetch("http://localhost:5000/cerinte_ts",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({ts_items:t}))).catch((t=>console.log(t))),this.setState({auto_select:e.checked})},this.TsSelect=(t,e)=>{let{value:s}=e;0!==s.length?this.setState({ts_select:s}):this.setState({ts_select:void 0})},this.HandleDate=(t,e)=>{let{name:s,value:a}=e;this.state.hasOwnProperty(s)&&this.setState({[s]:a})},this.HandleInreg=()=>{if("Dispecer"===gt[3])var t=this.state.em_select+" gr. "+this.state.gr_select,e="Acceptat:\n"+Ot[0]+"\n"+gt[1];else t="Confirmat:\n"+Ot[0]+"\n"+document.getElementById("em_input").value,e="Nou inregistrat";if(void 0!==this.state.local_link)var s=this.state.local_link.replace(/[/]|\\/g,",");void 0===this.state.of_select||void 0===this.state.cu_dec_select||""===this.state.cu_dec_select?alert("Nu ati introdus unul din cimpurile obligatorii!"):"Programat"===this.state.cu_dec_select||"Neprogramat"===this.state.cu_dec_select?void 0===this.state.sef_select||"undefined gr.undefined"===this.state.sef_select||void 0===this.state.em_select||"undefined gr.undefined"===this.state.em_select||void 0===this.state.inst_select||""===this.state.inst_select||void 0===this.state.pt_select||""===this.state.pt_select||void 0===this.state.fid_select||""===this.state.fid_select||void 0===this.state.lucr_select||""===this.state.lucr_select||void 0===this.state.sm_select||""===this.state.sm_select?alert("Nu ati introdus unul din cimpurile obligatorii!"):(this.setState({inreg_status:!0}),fetch(`http://localhost:5000/inreg-al/${this.state.of_select}/${this.state.dsAl_num}/${this.state.cu_dec_select}/${this.state.sef_select}/${this.state.mem_select}/${this.state.inst_select}/${this.state.inst_ad}/${this.state.pt_select}/${this.state.fid_select}/${this.state.lucr_select}/${this.state.sm_select}/${s}/${this.state.auto_select}/${this.state.ts_select}/${this.state._date}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({emitent:t,starea:e})}).then((t=>t.json())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t)))):"Fara deconectari"!==this.state.cu_dec_select&&"Dispozitie"!==this.state.cu_dec_select||(void 0===this.state.sef_select||"undefined gr.undefined"===this.state.sef_select||void 0===this.state.em_select||"undefined gr.undefined"===this.state.em_select||void 0===this.state.lucr_select||""===this.state.lucr_select?alert("Nu ati introdus unul din cimpurile obligatorii!"):(this.setState({inreg_status:!0}),fetch(`http://localhost:5000/inreg-al/${this.state.of_select}/${this.state.dsAl_num}/${this.state.cu_dec_select}/${this.state.sef_select}/${this.state.mem_select}/${this.state.inst_select}/${this.state.inst_ad}/${this.state.pt_select}/${this.state.fid_select}/${this.state.lucr_select}/${this.state.sm_select}/${s}/${this.state.auto_select}/${this.state.ts_select}/${this.state._date}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({emitent:t,starea:e})}).then((t=>t.json())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t)))))}}componentDidMount(){document.getElementById("inst_ad").onpaste=t=>t.preventDefault(),"Dispecer"===gt[3]?fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t))):(fetch(`http://localhost:5000/angajati/${gt[2]}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/pt/${gt[2]}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t))),this.setState({of_status:!0}),this.setState({of_select:gt[2]}),this.setState({em_select:gt[1]+" gr. 5"})),fetch("http://localhost:5000/cu_dec/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({cu_dec_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/instalatia/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({inst_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/lucrari/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({lucr_items:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!1}),""!==gt[1]&&void 0!==gt[1]||(alert("Nu sinteti logat"),document.cookie="status_cookie=non-approved",document.location.href="/")}render(){const t=[];for(l=1;l<this.state.oficii_items.length;l++)t.push({text:this.state.oficii_items[l].name,value:this.state.oficii_items[l]});const e=[],s=[],a=[];var l;for(l=0;l<this.state.angaj_items.length;l++){if("DA"===this.state.angaj_items[l].sef&&e.push({text:this.state.angaj_items[l].name+" gr. "+this.state.angaj_items[l].gr_ts,value:this.state.angaj_items[l]}),"Dispecer"===gt[3])"DA"===this.state.angaj_items[l].emitent&&s.push({text:this.state.angaj_items[l].name+" gr. "+this.state.angaj_items[l].gr_ts,value:this.state.angaj_items[l]});else if(this.state.angaj_items[l].name===gt[1])var c=this.state.angaj_items[l].gr_ts;a.push({text:this.state.angaj_items[l].name+" gr. "+this.state.angaj_items[l].gr_ts,value:this.state.angaj_items[l]})}const o=[];if(void 0!==this.state.inst_items[0])for(l=0;l<this.state.inst_items[0].lista.length;l++)o.push({text:this.state.inst_items[0].lista[l],value:this.state.inst_items[0].lista[l]});const h=this.state.pt_items.map((t=>({text:t.pt,value:t}))),r=[];for(l=1;l<151;l++)r.push({text:l,value:l});const d=[];if(void 0!==this.state.lucr_items[0])for(this.state.lucr_items[0].lista.sort(),l=0;l<this.state.lucr_items[0].lista.length;l++)d.push({text:this.state.lucr_items[0].lista[l],value:this.state.lucr_items[0].lista[l]});const j=[];for(l=1;l<152;l++)j.push({text:l,value:l});const m=void 0!==this.state.cu_dec_items[0]?this.state.cu_dec_items[0].lista.map((t=>({text:t,value:t}))):[],_=[];if("Dispozitie"===this.state.cu_dec_select&&void 0!==this.state.ts_items)for(l=0;l<this.state.ts_items[0].lista.length;l++)_.push({text:this.state.ts_items[0].lista[l],value:this.state.ts_items[0].lista[l]});return this.state.inreg_status&&this.state.success_status?Object(u.jsx)(_t,{title:"INREGISTRARE REUSITA AL/DS",func:this.HandleReus,reg:"Registru AL/DS",greenFunc:this.HandleGreen,green:"Inregistrati din nou!"}):Object(u.jsxs)(i.a.Fragment,{children:[this.state.inreg_status&&!this.state.success_status||this.state.upload_status&&void 0===this.state.local_link?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"INREGISTRATI AUTORIZATIE (DISPOZITIE)"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:["Dispecer"===gt[3]?Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}):Object(u.jsx)(n.a.Input,{fluid:!0,label:"Oficiul",value:xt,onChange:this.OfInput,id:"of_input"}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.cu_dec_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:m,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.Cu_decSelect,label:"Plan"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.sef_status||!1===this.state.cu_dec_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.SefSelect,label:"Sef de lucrari"})]}),Object(u.jsx)(n.a.Select,{fluid:!0,options:a,placeholder:"Alegeti, mai multe obtiuni",search:!0,clearable:!0,multiple:!0,onChange:this.MemSelect,label:"Membrii echipei"})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:["Dispecer"===gt[3]?Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.em_status||!1===this.state.cu_dec_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:s,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.EmSelect,label:"Emitent"})]}):Object(u.jsx)(n.a.Input,{fluid:!0,label:"Emitent",value:gt[1]+" gr. "+c,onChange:this.EmInput,id:"em_input"}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.inst_status||!1===this.state.cu_dec_status||"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:o,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.InstSelect,label:"Instalatia"})]})]}),Object(u.jsx)(n.a.Input,{fluid:!0,label:"Suplimentar (la instalatie)",placeholder:"Introduceti, inclusiv comentarii",onChange:this.InstAd,id:"inst_ad"}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.pt_status||!1===this.state.cu_dec_status||"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select?Object(u.jsx)(n.a.Select,{fluid:!0,options:h,placeholder:"Alegeti, mai multe obtiuni",search:!0,clearable:!0,multiple:!0,onChange:this.PtSelect,label:"PT, denumirea de dispecerat"}):Object(u.jsx)(n.a.Select,{fluid:!0,options:h,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.PtSelect,label:"PT, denumirea de dispecerat"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.fid_status||!1===this.state.cu_dec_status||"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select?Object(u.jsx)(n.a.Select,{fluid:!0,options:r,placeholder:"Alegeti, mai multe obtiuni",search:!0,clearable:!0,multiple:!0,onChange:this.FidSelect,label:"Fider nr."}):Object(u.jsx)(n.a.Select,{fluid:!0,options:r,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.FidSelect,label:"Fider nr."})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.lucr_status||!1===this.state.cu_dec_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:d,placeholder:"Alegeti",search:!0,clearable:!0,multiple:!0,onChange:this.LucrSelect,label:"Lucrarile efectuate"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.sm_status||!1===this.state.cu_dec_status||"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:j,placeholder:"Alegeti, mai multe obtiuni",search:!0,clearable:!0,multiple:!0,onChange:this.SmSelect,label:"SM nr."})]})]}),"Dispozitie"===this.state.cu_dec_select?Object(u.jsx)(n.a.Checkbox,{label:"Auto completati formular AL/DS",onChange:this.ChAuto}):[],this.state.auto_select&&"Dispozitie"===this.state.cu_dec_select?Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsx)(n.a.Select,{fluid:!0,options:_,placeholder:"Alegeti, mai multe obtiuni",search:!0,clearable:!0,multiple:!0,onChange:this.TsSelect,label:"Cerinte TS"}),Object(u.jsx)(pt.DateInput,{name:"_date",placeholder:"Introduceti",label:"Data activitatii",value:this.state._date,iconPosition:"left",onChange:this.HandleDate,dateFormat:"DD.MM.YY",closable:!0,clearable:!0,hideMobileKeyboard:"false"})]}):Object(u.jsx)(n.a.Input,{type:"file",onChange:this.LinkAl,label:"Introduceti AL/DS"}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Inregistrati"})})]})]})}}var vt=ft;class St extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],of_select:void 0,pt_select:void 0,orSat_select:void 0,localitatea_select:void 0,balanta_select:void 0,consCas_select:void 0,consNon_select:void 0,of_status:void 0,pt_status:void 0,orSat_status:void 0,localitatea_status:void 0,balanta_status:void 0,consCas_status:void 0,consNon_status:void 0,success_status:void 0,inreg_status:void 0,sect_items:[],sect_status:void 0},this.OfChoose=(t,e)=>{let{value:s}=e;fetch(`http://localhost:5000/sectoare/${s.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({sect_items:t}))).catch((t=>console.log(t))),""!==s?this.setState({of_status:!0}):this.setState({of_status:void 0}),this.setState({of_select:s.abr})},this.PtSelect=(t,e)=>{let{value:s}=e;const a=/P\b|PT\b|PD\b|PT\d|PD\d/;""!==s&&a.test(s)?this.setState({pt_status:!0}):this.setState({pt_status:void 0}),""===s||a.test(s)?this.setState({pt_select:s}):this.setState({pt_select:""})},this.OrSatSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({orSat_status:!0}):this.setState({orSat_status:void 0}),this.setState({orSat_select:s})},this.LocalitateaSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({localitatea_status:!0}):this.setState({localitatea_status:void 0}),this.setState({localitatea_select:s})},this.SectSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({sect_status:!0}):this.setState({sect_status:void 0}),this.setState({sect_select:s.name})},this.BalantaSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({balanta_status:!0}):this.setState({balanta_status:void 0}),this.setState({balanta_select:s})},this.ConsCasSelect=(t,e)=>{let{value:s}=e;const a=/^[0-9\b]+$/;""!==s&&a.test(s)?this.setState({consCas_status:!0}):this.setState({consCas_status:void 0}),""===s||a.test(s)?this.setState({consCas_select:s}):this.setState({consCas_select:""})},this.ConsNonSelect=(t,e)=>{let{value:s}=e;const a=/^[0-9\b]+$/;""!==s&&a.test(s)?this.setState({consNon_status:!0}):this.setState({consNon_status:void 0}),""===s||a.test(s)?this.setState({consNon_select:s}):this.setState({consNon_select:""})},this.HandleReus=()=>{document.location.href=`/lista-pt/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()},this.HandleInreg=()=>{this.state.of_status&&this.state.pt_status&&this.state.orSat_status&&this.state.localitatea_status&&this.state.sect_status&&this.state.balanta_status&&this.state.consCas_status&&this.state.consNon_status?(fetch(`http://localhost:5000/adaug-pt/${this.state.of_select}/${this.state.pt_select}/${this.state.orSat_select}/${this.state.localitatea_select}/${this.state.sect_select}/${this.state.balanta_select}/${this.state.consCas_select}/${this.state.consNon_select}/`,{method:"GET"}).then((t=>t.text())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!0})):alert("Nu ati introdus unul din cimpurile obligatorii!!")}}componentDidMount(){fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t)))}render(){var t;const e=[];for(t=1;t<this.state.oficii_items.length;t++)e.push({text:this.state.oficii_items[t].name,value:this.state.oficii_items[t]});const s=[{text:"or.",value:"or."},{text:"s.",value:"s."}],a=this.state.sect_items.map((t=>({text:t.name,value:t})));return this.state.inreg_status&&"success"===this.state.success_status?Object(u.jsx)(_t,{title:"ADAUGARE REUSITA PT",func:this.HandleReus,reg:"Lista PT",greenFunc:this.HandleGreen,green:"Adaugati din nou!"}):Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"/images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"ADAUGATI PT"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:["repeated"===this.state.success_status?Object(u.jsx)("p",{className:"no-pass",children:"Nu s-a inregistrat PT, se repet datele!"}):[],Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.pt_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{placeholder:"Introduceti (PT111FD11)",value:this.state.pt_select,label:"PT, denumirea de dispecerat",onChange:this.PtSelect})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.orSat_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:s,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.OrSatSelect,label:"Oras/Sat"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.localitatea_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{placeholder:"Introduceti (Balti)",onChange:this.LocalitateaSelect,label:"Localitatea"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.sect_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:a,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.SectSelect,label:"Sector"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.balanta_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{placeholder:"Introduceti",onChange:this.BalantaSelect,label:"Balanta"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.consCas_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{fluid:!0,value:this.state.consCas_select,placeholder:"Introduceti (numar intreg)",search:!0,clearable:!0,onChange:this.ConsCasSelect,label:"Consumatori casnici"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.consNon_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{fluid:!0,value:this.state.consNon_select,placeholder:"Introduceti (numar intreg)",search:!0,clearable:!0,onChange:this.ConsNonSelect,label:"Consumatori non-casnici"})]})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Inregistrati"})})]})]})}}var Nt=St;const Ct=v();class At extends i.a.Component{constructor(){super(...arguments),this.state={of_items:[],pt_items:[]},this.HandleOfPt=t=>{this.setState({pt_items:[]}),fetch(`http://localhost:5000/lista-pt/${t}/undefined/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t)))},this.ChOfFunc=(t,e)=>{let{value:s}=e;var a=s.abr;void 0===s.abr&&(a=Ct[2]),this.HandleOfPt(a),this.setState({of_select:a})},this.ChPtFunc=(t,e)=>{let{value:s}=e;this.setState({pt_items:[]}),""===s.pt&&(s.pt=void 0);var a=this.state.of_select;void 0===a&&"/lista-pt"===document.location.pathname?a=Ct[2]:void 0===a&&"/lista-pt"!==document.location.pathname&&(a=document.location.pathname.slice(-2)),fetch(`http://localhost:5000/lista-pt/${a}/${s.pt}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t)))}}componentDidMount(){"pt"===document.location.pathname.slice(-2)?this.HandleOfPt(Ct[2]):this.HandleOfPt(document.location.pathname.slice(-2))}render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)(A,{}),Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfFunc})}),Object(u.jsx)("div",{className:"drop-month",children:Object(u.jsx)(g,{myPt:this.state.pt_items,ChoosePt:this.ChPtFunc})}),Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"8",children:Object(u.jsx)("img",{src:"/images/eulian.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"8",className:"th-al-title",children:"LISTA PT"})}),0===this.state.pt_items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"PT"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Localitatea"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Sector"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Balanta"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cons. casnici, nr."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cons. non-casnici, nr."})]})]}),Object(u.jsx)("tbody",{children:this.state.pt_items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",children:[Object(u.jsx)("td",{className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{className:""===t.pt?"":"pt",children:t.pt}),Object(u.jsx)("td",{children:t.localitatea}),Object(u.jsx)("td",{children:t.sector}),Object(u.jsx)("td",{children:t.balanta}),Object(u.jsx)("td",{children:t.total_cas}),Object(u.jsx)("td",{children:t.total_non_cas})]},t._id)))})]})]})}}var Tt=At;const Et=v();class It extends i.a.Component{constructor(){super(...arguments),this.state={angaj_items:[],sect_by_of:[],of_select:void 0},this.HandleOfPt=t=>{fetch(`http://localhost:5000/sectoare/${t}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({sect_by_of:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/lista-angaj/${t}/undefined/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t)))},this.ChOfFunc=(t,e)=>{let{value:s}=e;var a=s.abr;void 0===s.abr&&(a=Et[2]),this.HandleOfPt(a),this.setState({of_select:a})},this.ChSectFunc=(t,e)=>{let{value:s}=e;""===s.name&&(s.name=void 0);var a=this.state.of_select;void 0===a&&(a=Et[2]),fetch(`http://localhost:5000/lista-angaj/${a}/${s.name}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t)))}}componentDidMount(){"aj"===document.location.pathname.slice(-2)?this.HandleOfPt(Et[2]):this.HandleOfPt(document.location.pathname.slice(-2))}render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)(A,{}),Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfFunc})}),Object(u.jsx)("div",{className:"drop-month",children:Object(u.jsx)(w,{mySect:this.state.sect_by_of,ChooseSect:this.ChSectFunc})}),Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"15",children:Object(u.jsx)("img",{src:"/images/angajati.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"15",className:"th-al-title",children:"LISTA ANGAJATILOR"})}),0===this.state.angaj_items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Numar tabel"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Numele P."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Functia"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Grupa TS"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Sector"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. tel. pers."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr. tel. serv."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Emitent"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cond. de lucr."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Admitent"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Sef de lucr."}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Supraveghetor"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Membru echipa"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Semnatura"})]})]}),Object(u.jsx)("tbody",{children:this.state.angaj_items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",children:[Object(u.jsx)("td",{className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{children:t.nr_tabel}),Object(u.jsx)("td",{children:t.name}),Object(u.jsx)("td",{children:t.position}),Object(u.jsx)("td",{children:t.gr_ts}),Object(u.jsx)("td",{children:t.sector}),Object(u.jsx)("td",{children:t.telefon_pers}),Object(u.jsx)("td",{children:t.telefon_serv}),Object(u.jsx)("td",{className:t.emitent.includes("DA")?"da":t.emitent.includes("NU")?"nu":"",children:t.emitent}),Object(u.jsx)("td",{className:t.conducator.includes("DA")?"da":t.conducator.includes("NU")?"nu":"",children:t.conducator}),Object(u.jsx)("td",{className:t.admitent.includes("DA")?"da":t.admitent.includes("NU")?"nu":"",children:t.admitent}),Object(u.jsx)("td",{className:t.sef.includes("DA")?"da":t.sef.includes("NU")?"nu":"",children:t.sef}),Object(u.jsx)("td",{className:t.supraveghetor.includes("DA")?"da":t.supraveghetor.includes("NU")?"nu":"",children:t.supraveghetor}),Object(u.jsx)("td",{className:t.membru.includes("DA")?"da":t.membru.includes("NU")?"nu":"",children:t.membru}),t.semnatura_el?Object(u.jsx)("td",{children:"DA"}):Object(u.jsx)("td",{children:"NU"})]},t._id)))})]})]})}}var Ft=It;class yt extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],sect_items:[],pos_items:[],of_select:void 0,sect_select:void 0,tabel_select:void 0,name_select:void 0,pos_select:void 0,ts_select:void 0,tel_pers_select:void 0,tel_serv_select:void 0,semn_select:void 0,em_select:!1,cond_select:!1,adm_select:!1,sef_select:!1,sup_select:!1,mem_select:!1,inreg_status:!1,success_status:void 0,link_semn:void 0,link_up:void 0,of_status:void 0,sect_status:void 0,tabel_status:void 0,name_status:void 0,pos_status:void 0,ts_status:void 0},this.OfChoose=(t,e)=>{let{value:s}=e;fetch(`http://localhost:5000/sectoare/${s.abr}`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({sect_items:t}))).catch((t=>console.log(t))),""!==s?this.setState({of_status:!0}):this.setState({of_status:void 0}),this.setState({of_select:s.abr})},this.SectSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({sect_status:!0}):this.setState({sect_status:void 0}),this.setState({sect_select:s})},this.TabelSelect=(t,e)=>{let{value:s}=e;const a=/^[0-9\b]+$/;""!==s&&a.test(s)?this.setState({tabel_status:!0}):this.setState({tabel_status:void 0}),""===s||a.test(s)?this.setState({tabel_select:s}):this.setState({tabel_select:""})},this.NameSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({name_status:!0}):this.setState({name_status:void 0}),this.setState({name_select:s})},this.PosSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({pos_status:!0}):this.setState({pos_status:void 0}),this.setState({pos_select:s})},this.TsSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({ts_status:!0}):this.setState({ts_status:void 0}),this.setState({ts_select:s})},this.TelPers=(t,e)=>{let{value:s}=e;this.setState({tel_pers_select:s})},this.TelServ=(t,e)=>{let{value:s}=e;this.setState({tel_serv_select:s})},this.EmSelect=(t,e)=>{let{checked:s}=e;this.setState({em_select:s})},this.CondSelect=(t,e)=>{let{checked:s}=e;this.setState({cond_select:s})},this.AdmSelect=(t,e)=>{let{checked:s}=e;this.setState({adm_select:s})},this.SefSelect=(t,e)=>{let{checked:s}=e;this.setState({sef_select:s})},this.SupSelect=(t,e)=>{let{checked:s}=e;this.setState({sup_select:s})},this.MemSelect=(t,e)=>{let{checked:s}=e;this.setState({mem_select:s})},this.LinkSemn=t=>{this.setState({link_up:!0});const e=new FormData;e.append("file",t.target.files[0]),fetch("http://localhost:5000/upload-semn/",{method:"POST",body:e}).then((t=>t.text())).then((t=>this.setState({link_semn:t}))).catch((t=>console.log(t)))},this.HandleReus=()=>{document.location.href=`/lista-angaj/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()},this.HandleInreg=()=>{if(void 0!==this.state.link_semn&&"non-approved"!==this.state.link_semn)var t=this.state.link_semn.replace(/[/]|\\/g,",");"non-approved"!==this.state.link_semn?this.state.of_status&&this.state.sect_status&&this.state.tabel_status&&this.state.name_status&&this.state.pos_status&&this.state.ts_status?(fetch(`http://localhost:5000/adaug-angaj/${this.state.of_select}/${this.state.sect_select}/${this.state.tabel_select}/${this.state.name_select}/${this.state.pos_select}/${this.state.ts_select}/${this.state.tel_pers_select}/${this.state.tel_serv_select}/${this.state.em_select}/${this.state.cond_select}/${this.state.adm_select}/${this.state.sef_select}/${this.state.sup_select}/${this.state.mem_select}/${t}/`,{method:"GET"}).then((t=>t.text())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!0})):alert("Nu ati introdus unul din cimpurile obligatorii!!"):alert("Semnatura trebuie sa fie format PNG! Mai incercati!")}}componentDidMount(){fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/position/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pos_items:t}))).catch((t=>console.log(t)))}render(){const t=this.state.oficii_items.map((t=>({text:t.name,value:t}))),e=this.state.sect_items.map((t=>({text:t.name,value:t.name}))),s=this.state.pos_items.map((t=>({text:t.name,value:t.name})));var a,l=[];for(a=1;a<6;a++)l.push({text:a,value:a});return!0===this.state.inreg_status?Object(u.jsx)(_t,{title:"ADAUGARE REUSITA ANGAJAT",func:this.HandleReus,reg:"Lista angajati",greenFunc:this.HandleGreen,green:"Adaugati din nou!"}):Object(u.jsxs)(i.a.Fragment,{children:[this.state.link_up&&void 0===this.state.link_semn?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)("img",{className:"up-space-ad-angaj"}),Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"ADAUGATI ANGAJAT"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.sect_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{options:e,fluid:!0,search:!0,clearable:!0,placeholder:"Alegeti",onChange:this.SectSelect,label:"Sectorul"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.tabel_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{fluid:!0,value:this.state.tabel_select,placeholder:"Introduceti (patru cifre)",onChange:this.TabelSelect,label:"Nr. tabel"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.name_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{fluid:!0,placeholder:"Introduceti (Nume P.)",search:!0,clearable:!0,onChange:this.OrSatSelect,onChange:this.NameSelect,label:"Angajat"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.pos_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{options:s,search:!0,fluid:!0,clearable:!0,placeholder:"Alegeti",onChange:this.PosSelect,label:"Functia"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.ts_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:l,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.TsSelect,label:"Grupa TS"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{children:["non-approved"===this.state.tel_pers_status?Object(u.jsx)("p",{className:"no-pass",children:"Introduceti numar intreg!"}):"",Object(u.jsx)(n.a.Input,{fluid:!0,placeholder:"Introduceti",search:!0,clearable:!0,onChange:this.TelPers,label:"Telefon pers.",id:"tel-pers"})]}),Object(u.jsxs)(n.a.Field,{children:["non-approved"===this.state.consNon_status?Object(u.jsx)("p",{className:"no-pass",children:"Cimpul Consumatori non-casnici nu poate fi gol!"}):"",Object(u.jsx)(n.a.Input,{fluid:!0,placeholder:"Introduceti",search:!0,clearable:!0,onChange:this.TelServ,label:"Telefon serv."})]})]}),Object(u.jsxs)(n.a.Group,{inline:!0,widths:"equal",children:[Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(B.a,{onChange:this.EmSelect,label:"Emitent"})}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(B.a,{onChange:this.CondSelect,label:"Conducator de lucrari"})})]}),Object(u.jsxs)(n.a.Group,{inline:!0,widths:"equal",children:[Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(B.a,{onChange:this.AdmSelect,label:"Admitent"})}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(B.a,{onChange:this.SefSelect,label:"Sef de lucrari"})})]}),Object(u.jsxs)(n.a.Group,{inline:!0,widths:"equal",children:[Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(B.a,{onChange:this.SupSelect,label:"Supraveghetor"})}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(B.a,{onChange:this.MemSelect,label:"Membru echipei"})})]}),"non-approved"===this.state.link_semn?Object(u.jsx)("p",{className:"no-pass",children:"Semnatura trebuie sa fie format PNG!"}):"",Object(u.jsx)(n.a.Input,{type:"file",placeholder:"Apasati",fluid:!0,label:"Link semnatura",onChange:this.LinkSemn}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Inregistrati"})})]})]})}}var $t=yt;class Lt extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],angaj_items:[],tabel_items:[],of_status:void 0,angaj_status:void 0,tabel_status:void 0,success_status:void 0,inreg_status:void 0,of_select:void 0,angaj_select:void 0,tabel_select:void 0},this.OfChoose=(t,e)=>{let{value:s}=e;fetch(`http://localhost:5000/angajati/${s.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t))),""!==s?this.setState({of_status:!0}):this.setState({of_status:void 0}),this.setState({of_select:s.abr})},this.AngajSelect=(t,e)=>{let{value:s}=e;fetch(`http://localhost:5000/nr-tabel/${this.state.of_select}/${s.name}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({tabel_items:t}))).catch((t=>console.log(t))),this.setState({angaj_select:s.name}),""!==s?this.setState({angaj_status:!0}):this.setState({angaj_status:void 0})},this.TabelSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({tabel_status:!0}):this.setState({tabel_status:void 0}),this.setState({tabel_select:s})},this.HandleInreg=()=>{this.state.of_status&&this.state.angaj_status&&this.state.tabel_status?(fetch(`http://localhost:5000/sterg-angaj/${this.state.of_select}/${this.state.angaj_select}/${this.state.tabel_select}/`,{method:"GET"}).then((t=>t.text())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!0})):alert("Nu ati introdus unul din cimpurile obligatorii!!")},this.HandleReus=()=>{document.location.href=`/lista-angaj/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()}}componentDidMount(){fetch("http://localhost:5000/oficii",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t)))}render(){const t=this.state.oficii_items.map((t=>({text:t.name,value:t}))),e=this.state.angaj_items.map((t=>({text:t.name,value:t})));var s;const a=[];if(0!==this.state.tabel_items.length)for(s=0;s<this.state.tabel_items.length;s++)a.push({text:this.state.tabel_items[s].nr_tabel,value:this.state.tabel_items[s].nr_tabel});return this.state.success_status&&this.state.inreg_status?Object(u.jsx)(_t,{title:"STERGERE REUSITA ANGAJAT",func:this.HandleReus,reg:"Lista angajati",greenFunc:this.HandleGreen,green:"Stergeti din nou!"}):Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"STERGERI ANGAJAT"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:"Oficiul",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.angaj_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Nume P.",search:!0,clearable:!0,onChange:this.AngajSelect,label:"Angajat"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.tabel_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:a,placeholder:"Nr. tabel",search:!0,clearable:!0,onChange:this.TabelSelect,label:"Nr. tabel"})]})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Stergeti"})})]})]})}}var kt=Lt;class Dt extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],pt_items:[],of_status:void 0,pt_status:void 0,success_status:void 0,inreg_status:void 0,of_select:void 0,pt_select:void 0},this.OfChoose=(t,e)=>{let{value:s}=e;fetch(`http://localhost:5000/pt/${s.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t))),""!==s?this.setState({of_status:!0}):this.setState({of_status:void 0}),this.setState({of_select:s.abr})},this.PtSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({pt_status:!0}):this.setState({pt_status:void 0}),this.setState({pt_select:s.pt})},this.HandleInreg=()=>{this.state.of_status&&this.state.pt_status?(fetch(`http://localhost:5000/sterg-pt/${this.state.of_select}/${this.state.pt_select}/`,{method:"GET"}).then((t=>t.text())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!0})):alert("Nu ati introdus unul din cimpurile obligatorii!!")},this.HandleReus=()=>{document.location.href=`/lista-pt/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()}}componentDidMount(){fetch("http://localhost:5000/oficii",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t)))}render(){const t=this.state.oficii_items.map((t=>({text:t.name,value:t}))),e=this.state.pt_items.map((t=>({text:t.pt,value:t})));return this.state.success_status&&this.state.inreg_status?Object(u.jsx)(_t,{title:"STERGERE REUSITA PT",func:this.HandleReus,reg:"Lista PT",greenFunc:this.HandleGreen,green:"Stergeti din nou!"}):Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"STERGERI PT"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:"Oficiul",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.pt_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Denumire PT",search:!0,clearable:!0,onChange:this.PtSelect,label:"PT, denumirea de dispecerat"})]})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Stergeti"})})]})]})}}var Ht=Dt;class Rt extends i.a.Component{constructor(){super(...arguments),this.state={_date:"",time:"",oficii_items:[],cauza_dec_items:[],pt_items:[],fid_select:[],of_select:void 0,pt_select:void 0,fid_select:void 0,cauza_dec_select:void 0,of_status:void 0,pt_status:void 0,fid_status:void 0,cauza_dec_status:void 0,date_status:void 0,time_status:void 0,success_status:void 0,inreg_status:void 0,dec_noserv:void 0},this.OfChoose=(t,e)=>{fetch(`http://localhost:5000/pt/${e.value.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t))),""!==e.value?this.setState({of_status:!0}):this.setState({of_status:void 0}),this.setState({of_select:e.value.abr})},this.PtSelect=(t,e)=>{""!==e.value?this.setState({pt_status:!0}):this.setState({pt_status:void 0}),this.setState({pt_select:e.value.pt})},this.FidSelect=(t,e)=>{""!==e.value?this.setState({fid_status:!0}):this.setState({fid_status:void 0}),this.setState({fid_select:e.value})},this.CauzaDecSelect=(t,e)=>{""!==e.value?this.setState({cauza_dec_status:!0}):this.setState({cauza_dec_status:void 0});var s,a=[];for(s=0;s<e.value.length;s++)a+=e.value[s]+",";this.setState({cauza_dec_select:a})},this.HandleReus=()=>{document.location.href=`/nepr-lunar/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()},this.HandleDate=(t,e)=>{let{name:s,value:a}=e;""!==a?this.setState({date_status:!0}):this.setState({date_status:void 0}),this.state.hasOwnProperty(s)&&this.setState({[s]:a})},this.HandleTime=(t,e)=>{let{name:s,value:a}=e;""!==a?this.setState({time_status:!0}):this.setState({time_status:void 0}),this.state.hasOwnProperty(s)&&this.setState({[s]:a})},this.HandleInreg=()=>{const t=bt();this.state.of_status&&this.state.cauza_dec_status&&this.state.pt_status&&this.state.fid_status&&this.state.date_status&&this.state.time_status?(fetch(`http://localhost:5000/inreg-dec/${this.state.of_select}/${this.state.cauza_dec_select}/${this.state.pt_select}/${this.state.fid_select}/${this.state._date}/${this.state.time}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({now_date:t[0]})}).then((t=>t.text())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!0})):alert("Nu ati introdus unul din cimpurile obligatorii!!")}}componentDidMount(){fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/cauza-dec/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({cauza_dec_items:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!1})}render(){const t=[];for(a=1;a<this.state.oficii_items.length;a++)t.push({text:this.state.oficii_items[a].name,value:this.state.oficii_items[a]});const e=this.state.pt_items.map((t=>({text:t.pt,value:t}))),s=[];for(a=1;a<151;a++)s.push({text:a,value:a});var a;const l=[];if(void 0!==this.state.cauza_dec_items[0])for(a=0;a<this.state.cauza_dec_items[0].lista.sort().length;a++)l.push({text:this.state.cauza_dec_items[0].lista[a],value:this.state.cauza_dec_items[0].lista[a]});return"non_excel"===this.state.success_status?Object(u.jsx)(H,{ErrorWarning:"EROARE:",TypeOf:"Nu s-au inscris datele in SAIDI excel!\nPosibil undeva este deschisa aplicatia excel!",erFunc:this.HandleReus,erBtn:"Deconectari nepr."}):this.state.dec_noserv&&void 0===this.state.success_status?Object(u.jsx)(H,{ErrorWarning:"EROARE:",TypeOf:"Nu este pornit serverul local!\nPorniti serverul local, incercati inca o data\nsa inregistrati deconectarea!",erFunc:this.HandleGreen,erBtn:"Incercati din nou!"}):this.state.inreg_status&&"approved"===this.state.success_status?Object(u.jsx)(_t,{title:"INREGISTRARE REUSITA DECONECTARE",func:this.HandleReus,reg:"Deconectari nepr.",greenFunc:this.HandleGreen,green:"Inregistrati din nou!"}):Object(u.jsxs)(i.a.Fragment,{children:[this.state.inreg_status&&void 0===this.state.success_status?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"INREGISTRATI DECONECTARE NEPLANIFICATA"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.cauza_dec_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:l,placeholder:"Alegeti",search:!0,clearable:!0,multiple:!0,onChange:this.CauzaDecSelect,label:"Cauza deconectare"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.pt_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.PtSelect,label:"PT, denumirea de dispecerat"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.fid_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:s,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.FidSelect,label:"Fider nr."})]})]}),Object(u.jsx)(n.a.Field,{children:"non_positive"===this.state.success_status?Object(u.jsx)("p",{className:"no-pass",children:"Timpul de conectare nu poate fi mai mic ca timpul deconectarii!"}):""}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.date_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(pt.DateInput,{name:"_date",placeholder:"Alegeti",label:"Data deconectarii",value:this.state._date,iconPosition:"left",onChange:this.HandleDate,dateFormat:"DD.MM.YY",closable:!0,clearable:!0})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.time_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(pt.TimeInput,{name:"time",placeholder:"Alegeti",label:"Timpul deconectarii",value:this.state.time,iconPosition:"left",onChange:this.HandleTime,closable:!0,clearable:!0})]})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Inregistrati"})})]})]})}}var Gt=Rt;const Mt=v();class Pt extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],cauza_sig_items:[],angaj_items:[],of_select:void 0,of_status:void 0,pt_status:void 0,cauza_sig_status:void 0,cauza_sig_select:void 0,cont_select:void 0,nume_select:void 0,adresa_select:void 0,angaj_select:void 0,success_status:void 0,inreg_status:void 0},this.OfChoose=(t,e)=>{let{value:s}=e;fetch(`http://localhost:5000/angajati/${s.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t))),""!==s?this.setState({of_status:!0}):this.setState({of_status:void 0}),this.setState({of_select:s.abr})},this.CauzaSigSelect=(t,e)=>{let{value:s}=e;0!==s.length?this.setState({cauza_sig_status:!0}):this.setState({cauza_sig_status:void 0});var a,i=[];for(a=0;a<s.length;a++)i+=s[a]+",";this.setState({cauza_sig_select:i})},this.ContSelect=(t,e)=>{let{value:s}=e;this.setState({cont_select:s})},this.NumeSelect=(t,e)=>{let{value:s}=e;this.setState({nume_select:s})},this.AdresaSelect=(t,e)=>{let{value:s}=e;this.setState({adresa_select:s})},this.AngajSelect=(t,e)=>{let{value:s}=e;this.setState({angaj_select:s.name})},this.HandleReus=()=>{document.location.href=`/lista-sig/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()},this.HandleInreg=()=>{const t=bt();this.state.of_status&&this.state.cauza_sig_status?(fetch(`http://localhost:5000/inreg-sig/${this.state.of_select}/${this.state.cauza_sig_select}/${this.state.cont_select}/${this.state.nume_select}/${this.state.adresa_select}/${Mt[1]}/${this.state.angaj_select}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({now_date:t[0]})}).then((t=>t.text())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!0})):alert("Nu ati introdus unul din cimpurile obligatorii!!")}}componentDidMount(){fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/cauza-sig/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({cauza_sig_items:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!1})}render(){const t=[];for(s=1;s<this.state.oficii_items.length;s++)t.push({text:this.state.oficii_items[s].name,value:this.state.oficii_items[s]});const e=this.state.angaj_items.map((t=>({text:t.name,value:t})));var s;const a=[];if(void 0!==this.state.cauza_sig_items[0])for(s=0;s<this.state.cauza_sig_items[0].lista.length;s++)a.push({text:this.state.cauza_sig_items[0].lista[s],value:this.state.cauza_sig_items[0].lista[s]});return this.state.inreg_status&&"approved"===this.state.success_status?Object(u.jsx)(_t,{title:"INREGISTRARE REUSITA DEMONT./SIGILIU",func:this.HandleReus,reg:"Sigilii demontate",greenFunc:this.HandleGreen,green:"Inregistrati din nou!"}):Object(u.jsxs)(i.a.Fragment,{children:[this.state.inreg_status&&void 0===this.state.success_status?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"/images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"INREGISTRATI DEMONTARE SIGILIU"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.cauza_sig_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:a,placeholder:"Alegeti",search:!0,clearable:!0,multiple:!0,onChange:this.CauzaSigSelect,label:"Cauza demontarii"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(n.a.Input,{fluid:!0,placeholder:"Introduceti",onChange:this.ContSelect,label:"Contul"})}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(n.a.Input,{fluid:!0,placeholder:"Introduceti",onChange:this.NumeSelect,label:"Nume, prenume"})})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(n.a.Input,{fluid:!0,placeholder:"Introduceti",onChange:this.AdresaSelect,label:"Adresa"})}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.AngajSelect,label:"Executorul"})})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Inregistrati"})})]})]})}}var zt=Pt;class qt extends i.a.Component{constructor(){super(...arguments),this.HandleReload=()=>{document.location.reload()}}render(){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{className:"up-space-reus"}),Object(u.jsx)("img",{src:"/images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"CORECTARE REUSITA"}),Object(u.jsx)(n.a,{className:"form-inreg",children:Object(u.jsx)(n.a.Group,{widths:"equal",children:Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.props.func,children:this.props.reg})})})})]})}}var wt=qt;const Bt=v(),Ut=bt(),Wt=document.location.pathname.split("/"),Jt=Wt[2],Yt=Wt[3],Vt=Wt[4];class Xt extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],cu_dec_items:[],angaj_items:[],inst_items:[],pt_items:[],lucr_items:[],fid_select:[],of_select:void 0,cu_dec_select:void 0,sef_select:void 0,mem_select:void 0,em_select:void 0,inst_select:void 0,pt_select:void 0,fid_select:void 0,lucr_select:void 0,sm_select:void 0,of_status:!1,cu_dec_status:!1,sef_status:!1,em_status:!1,inst_status:!1,pt_status:!1,fid_status:!1,lucr_status:!1,sm_status:!1,link_al:void 0,local_link:void 0,success_status:!1,inreg_status:!1,dsAl_num:void 0,inst_ad:void 0,upload_status:void 0,gr_select:void 0,starea_select:void 0,dsAl_item:void 0,ts_select:void 0,auto_select:void 0,_date:void 0},this.OfChoose=(t,e)=>{this.LoadAngaj(e.value.abr),this.LoadPt(e.value.abr),""!==e.value?this.setState({of_status:!0}):this.setState({of_status:!1}),this.setState({of_select:e.value.abr})},this.Cu_decSelect=(t,e)=>{""!==e.value?this.setState({cu_dec_status:!0}):this.setState({cu_dec_status:!1}),this.setState({cu_dec_select:e.value})},this.SefSelect=(t,e)=>{""!==e.value?this.setState({sef_status:!0}):this.setState({sef_status:!1}),this.setState({sef_select:e.value.name+" gr."+e.value.gr_ts})},this.MemSelect=(t,e)=>{var s,a="";for(s=0;s<e.value.length;s++)"Nu completati"!==e.value[s]?a+=e.value[s].name+" gr."+e.value[s].gr_ts+",":a="Nu completati";this.setState({mem_select:a})},this.EmSelect=(t,e)=>{""!==e.value?this.setState({em_status:!0}):this.setState({em_status:!1}),this.setState({em_select:e.value.name}),this.setState({gr_select:e.value.gr_ts})},this.InstSelect=(t,e)=>{""!==e.value?this.setState({inst_status:!0}):this.setState({inst_status:!1}),this.setState({inst_select:e.value})},this.InstAd=(t,e)=>{let{value:s}=e;this.setState({inst_ad:s})},this.PtSelect=(t,e)=>{if(""!==e.value?this.setState({pt_status:!0}):this.setState({pt_status:!1}),e.value.length){var s,a="";for(s=0;s<e.value.length;s++)"Nu completati"!==e.value[s]?a+=e.value[s].pt+",":a="Nu completati"}else a=e.value.pt;this.setState({pt_select:a})},this.FidSelect=(t,e)=>{if(""!==e.value?this.setState({fid_status:!0}):this.setState({fid_status:!1}),e.value.length){var s,a="";for(s=0;s<e.value.length;s++)a+=e.value[s]+","}else a=e.value;this.setState({fid_select:a})},this.LucrSelect=(t,e)=>{""!==e.value?this.setState({lucr_status:!0}):this.setState({lucr_status:!1});var s,a=[];for(s=0;s<e.value.length;s++)a+=e.value[s]+",";this.setState({lucr_select:a})},this.SmSelect=(t,e)=>{""!==e.value?this.setState({sm_status:!0}):this.setState({sm_status:!1});var s;for(s=0;s<e.value.length;s++)e.value[s]+",";this.setState({sm_select:e.value})},this.LinkAl=t=>{this.setState({upload_status:!0});const e=new FormData;e.append("file",t.target.files[0]),fetch("http://localhost:5000/upload-file/",{method:"POST",body:e}).then((t=>t.text())).then((t=>this.setState({local_link:t}))).catch((t=>console.log(t)))},this.HandleReus=()=>{document.location.href=`/${this.state.dsAl_item.oficiul}`},this.ChAuto=(t,e)=>{fetch("http://localhost:5000/cerinte_ts",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({ts_items:t}))).catch((t=>console.log(t))),this.setState({auto_select:e.checked})},this.TsSelect=(t,e)=>{let{value:s}=e;0!==s.length?this.setState({ts_select:s}):this.setState({ts_select:void 0})},this.HandleDate=(t,e)=>{let{name:s,value:a}=e;this.state.hasOwnProperty(s)&&this.setState({[s]:a})},this.HandleInreg=()=>{if("Dispecer"===Bt[3])var t="Acceptat:\n"+Ut[0]+"\n"+Bt[1];else t="Nou inregistrat";if(void 0===this.state.of_select)var e=this.state.dsAl_item.oficiul;else e=this.state.of_select;if(void 0===this.state.cu_dec_select||""===this.state.cu_dec_select)var s=this.state.dsAl_item.cu_dec;else s=this.state.cu_dec_select;if("undefined gr.undefined"===this.state.sef_select||void 0===this.state.sef_select||""===this.state.sef_select)var a=this.state.dsAl_item.sef;else a=this.state.sef_select;if("undefined gr.undefined"===this.state.mem_select||void 0===this.state.mem_select||""===this.state.mem_select)if(""!=this.state.dsAl_item.mem_ech)var i=this.state.dsAl_item.mem_ech;else i=void 0;else i=this.state.mem_select;if("undefined gr.undefined"===this.state.em_select||void 0===this.state.em_select||""===this.state.em_select)if("Dispecer"===Bt[3])var l=this.state.dsAl_item.emitent;else l="Confirmat:\n"+Ut[0]+"\n"+document.getElementById("em_input").value;else l=this.state.em_select+" gr. "+this.state.gr_select;if(void 0===this.state.inst_select||""===this.state.inst_select)if(""!==this.state.dsAl_item.instalatia)var c=this.state.dsAl_item.instalatia;else c=void 0;else c=this.state.inst_select;if(void 0===this.state.inst_ad||""===this.state.inst_select)var n=void 0;else n=this.state.inst_ad;if(void 0===this.state.pt_select||""===this.state.pt_select)if(""!==this.state.dsAl_item.pt)var o=this.state.dsAl_item.pt;else o=void 0;else o=this.state.pt_select;if(void 0===this.state.fid_select||""===this.state.fid_select)if(""!==this.state.dsAl_item.fid_nr)var h=this.state.dsAl_item.fid_nr.split("F")[1];else h=void 0;else h=this.state.fid_select;if(void 0===this.state.lucr_select||""===this.state.lucr_select)var r=this.state.dsAl_item.lucrarile;else r=this.state.lucr_select;if(void 0===this.state.sm_select||""===this.state.sm_select)if(""!==this.state.dsAl_item.mas_teh)var d=this.state.dsAl_item.mas_teh.split(" SM")[1];else d=void 0;else d=this.state.sm_select;if(void 0!==this.state.local_link)var u=this.state.local_link,j=u.replace(/[/]|\\/g,",");else void 0===j&&""!==this.state.dsAl_item.link&&(j=(u=this.state.dsAl_item.link).split("/")[5]);"Programat"===s||"Neprogramat"===s?void 0===c||void 0===o||void 0===h||void 0===d?alert("Nu ati introdus unul din cimpurile obligatorii!"):(this.setState({inreg_status:!0}),fetch(`http://localhost:5000/inreg-al/${e}/${this.state.dsAl_item._id}/${s}/${a}/${i}/${c}/${n}/${o}/${h}/${r}/${d}/${j}/${this.state.auto_select}/${this.state.ts_select}/${this.state._date}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({emitent:l,starea:t})}).then((t=>t.json())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t)))):"Fara deconectari"!==s&&"Dispozitie"!==s||(void 0===r?alert("Nu ati introdus unul din cimpurile obligatorii!"):(this.setState({inreg_status:!0}),fetch(`http://localhost:5000/inreg-al/${e}/${this.state.dsAl_item._id}/${s}/${a}/${i}/${c}/${n}/${o}/${h}/${r}/${d}/${j}/${this.state.auto_select}/${this.state.ts_select}/${this.state._date}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({emitent:l,starea:t})}).then((t=>t.json())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t)))))}}componentDidMount(){fetch(`http://localhost:5000/autorizatii/corect/${Yt}/${Vt}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({dsAl_item:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/cu_dec/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({cu_dec_items:t}))).catch((t=>console.log(t))),this.LoadAngaj(Jt),this.LoadPt(Jt),fetch("http://localhost:5000/instalatia/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({inst_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/lucrari/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({lucr_items:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!1}),""!==Bt[1]&&void 0!==Bt[1]||(alert("Nu sinteti logat"),document.cookie="status_cookie=non-approved",document.location.href="/")}LoadAngaj(t){fetch(`http://localhost:5000/angajati/${t}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t)))}LoadPt(t){fetch(`http://localhost:5000/pt/${t}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t)))}render(){const t=this.state.oficii_items.map((t=>({text:t.name,value:t})));if(void 0!==this.state.dsAl_item)if(void 0===this.state.cu_dec_select)var e=this.state.dsAl_item.cu_dec;else e=this.state.cu_dec_select;const s=[],a=[],l=[{text:"Nu completati",value:"Nu completati"}];var c;for(c=0;c<this.state.angaj_items.length;c++){if("DA"===this.state.angaj_items[c].sef&&s.push({text:this.state.angaj_items[c].name+" gr. "+this.state.angaj_items[c].gr_ts,value:this.state.angaj_items[c]}),"Dispecer"===Bt[3])"DA"===this.state.angaj_items[c].emitent&&a.push({text:this.state.angaj_items[c].name+" gr. "+this.state.angaj_items[c].gr_ts,value:this.state.angaj_items[c]});else if(this.state.angaj_items[c].name===Bt[1])var o=this.state.angaj_items[c].gr_ts;l.push({text:this.state.angaj_items[c].name+" gr. "+this.state.angaj_items[c].gr_ts,value:this.state.angaj_items[c]})}if("Programat"===e||"Neprogramat"===e)var h=[];else h=[{text:"Nu completati",value:"Nu completati"}];const r=h;if(void 0!==this.state.inst_items[0])for(c=0;c<this.state.inst_items[0].lista.length;c++)r.push({text:this.state.inst_items[0].lista[c],value:this.state.inst_items[0].lista[c]});if("Programat"===e||"Neprogramat"===e)var d=[];else d=[{text:"Nu completati",value:"Nu completati"}];const j=d;if(this.state.pt_items.map((t=>j.push({text:t.pt,value:t}))),"Programat"===e||"Neprogramat"===e)var m=1;else m=0;const _=[];for(c=m;c<151;c++)_.push({text:c,value:c});const b=[];if(void 0!==this.state.lucr_items[0])for(c=0;c<this.state.lucr_items[0].lista.length;c++)b.push({text:this.state.lucr_items[0].lista[c],value:this.state.lucr_items[0].lista[c]});const p=[];for(c=m;c<152;c++)p.push({text:c,value:c});const g=void 0!==this.state.cu_dec_items[0]?this.state.cu_dec_items[0].lista.map((t=>({text:t,value:t}))):[],x=[];if(void 0!==this.state.dsAl_item&&("Dispozitie"===this.state.cu_dec_select||"Dispozitie"===this.state.dsAl_item.cu_dec)&&void 0!==this.state.ts_items)for(c=0;c<this.state.ts_items[0].lista.length;c++)x.push({text:this.state.ts_items[0].lista[c],value:this.state.ts_items[0].lista[c]});if(void 0!==this.state.dsAl_item)var O=jt(this.state.dsAl_item.oficiul),v=this.state.dsAl_item.mas_teh.split(" SM"),S=this.state.dsAl_item.fid_nr.split("F");return this.state.inreg_status&&this.state.success_status?Object(u.jsx)(wt,{func:this.HandleReus,reg:"Registru AL/DS"}):void 0===this.state.dsAl_item?Object(u.jsx)(f.a,{size:"big",active:!0}):void 0!==this.state.dsAl_item?Object(u.jsxs)(i.a.Fragment,{children:[this.state.inreg_status&&!this.state.success_status||this.state.upload_status&&void 0===this.state.local_link?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"/images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsxs)("h1",{className:"bir_disp",children:["CORECTATI AUTORIZATIE (DISPOZITIE)",Object(u.jsxs)("div",{children:["nr. ",Yt]})]}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.of_status||""!==this.state.dsAl_item.oficiul?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:O,search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.cu_dec_status||""!==this.state.dsAl_item.cu_dec?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:g,placeholder:this.state.dsAl_item.cu_dec,search:!0,clearable:!0,onChange:this.Cu_decSelect,label:"Plan"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.sef_status||!1===this.state.cu_dec_status||""!==this.state.dsAl_item.sef?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:s,placeholder:this.state.dsAl_item.sef,search:!0,clearable:!0,onChange:this.SefSelect,label:"Sef de lucrari"})]}),Object(u.jsx)(n.a.Select,{fluid:!0,options:l,placeholder:this.state.dsAl_item.mem_ech,search:!0,clearable:!0,multiple:!0,onChange:this.MemSelect,label:"Membrii echipei"})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:["Dispecer"===Bt[3]?Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.em_status||!1===this.state.cu_dec_status||""!==this.state.dsAl_item.emitent?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:a,placeholder:this.state.dsAl_item.emitent,search:!0,clearable:!0,onChange:this.EmSelect,label:"Emitent"})]}):Object(u.jsx)(n.a.Input,{fluid:!0,label:"Emitent",value:Bt[1]+" gr. "+o,onChange:this.EmInput,id:"em_input"}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.inst_status||!1===this.state.cu_dec_status||"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select||""!==this.state.dsAl_item.instalatia?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:r,placeholder:this.state.dsAl_item.instalatia,search:!0,clearable:!0,onChange:this.InstSelect,label:"Instalatia"})]})]}),Object(u.jsx)(n.a.Input,{fluid:!0,label:"Suplimentar (la instalatie)",placeholder:"Pot fi adaugate comentarii de alt ordin",onChange:this.InstAd}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.pt_status||!1===this.state.cu_dec_status||"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select||""!==this.state.dsAl_item.pt?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),"Fara deconectari"===e||"Dispozitie"===e?Object(u.jsx)(n.a.Select,{fluid:!0,options:j,placeholder:this.state.dsAl_item.pt,search:!0,clearable:!0,multiple:!0,onChange:this.PtSelect,label:"PT, denumirea de dispecerat"}):Object(u.jsx)(n.a.Select,{fluid:!0,options:j,placeholder:this.state.dsAl_item.pt,search:!0,clearable:!0,onChange:this.PtSelect,label:"PT, denumirea de dispecerat"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.fid_status||!1===this.state.cu_dec_status||"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select||""!==this.state.dsAl_item.fid_nr?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),"Fara deconectari"===e||"Dispozitie"===e?Object(u.jsx)(n.a.Select,{fluid:!0,options:_,placeholder:this.state.dsAl_item.fid_nr.split("F")[1],search:!0,clearable:!0,multiple:!0,onChange:this.FidSelect,label:"Fider nr."}):Object(u.jsx)(n.a.Select,{fluid:!0,options:_,placeholder:S[1],search:!0,clearable:!0,onChange:this.FidSelect,label:"Fider nr."})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.lucr_status||!1===this.state.cu_dec_status||""!==this.state.dsAl_item.lucrarile?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:b,placeholder:this.state.dsAl_item.lucrarile,search:!0,clearable:!0,multiple:!0,onChange:this.LucrSelect,label:"Lucrarile efectuate"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.sm_status||!1===this.state.cu_dec_status||"Fara deconectari"===this.state.cu_dec_select||"Dispozitie"===this.state.cu_dec_select||""!=this.state.dsAl_item.mas_teh?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:p,placeholder:v[1],search:!0,clearable:!0,multiple:!0,onChange:this.SmSelect,label:"SM nr."})]})]}),"Dispozitie"===e||""===e?Object(u.jsx)(n.a.Checkbox,{label:"Auto completati formular AL/DS",onChange:this.ChAuto}):[],!this.state.auto_select||"Dispozitie"!==e&&""!==e?Object(u.jsx)(n.a.Input,{type:"file",onChange:this.LinkAl,label:"Introduceti AL/DS"}):Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsx)(n.a.Select,{fluid:!0,options:x,placeholder:"Alegeti, mai multe obtiuni",search:!0,clearable:!0,multiple:!0,onChange:this.TsSelect,label:"Cerinte TS"}),Object(u.jsx)(pt.DateInput,{name:"_date",placeholder:"Introduceti",label:"Data activitatii",value:this.state._date,iconPosition:"left",onChange:this.HandleDate,dateFormat:"DD.MM.YY",closable:!0,clearable:!0,hideMobileKeyboard:"false"})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Corectati"})})]})]}):void 0}}var Zt=Xt;const Kt=v(),Qt=jt(Kt[2]),te=bt();class ee extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],angaj_items:[],inst_items:[],pt_items:[],lucr_items:[],fid_select:[],ts_items:[],of_select:void 0,sef_select:void 0,mem_select:void 0,em_select:void 0,inst_select:void 0,pt_select:void 0,fid_select:void 0,lucr_select:void 0,of_status:!1,sef_status:!1,em_status:!1,inst_status:!1,pt_status:!1,fid_status:!1,lucr_status:!1,link_al:void 0,local_link:void 0,success_status:!1,inreg_status:!1,dsAl_num:void 0,auto_select:!1,ts_select:void 0,inst_ad:void 0,upload_status:void 0,gr_select:void 0},this.OfChoose=(t,e)=>{fetch(`http://localhost:5000/angajati/${e.value.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/pt/${e.value.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t))),""!==e.value?this.setState({of_status:!0}):this.setState({of_status:!1}),this.setState({of_select:e.value.abr})},this.OfInput=t=>{document.getElementById("of_input").innerText=Kt[2]},this.Cu_decSelect=(t,e)=>{""!==e.value?this.setState({cu_dec_status:!0}):this.setState({cu_dec_status:!1}),this.setState({cu_dec_select:e.value})},this.SefSelect=(t,e)=>{""!==e.value?this.setState({sef_status:!0}):this.setState({sef_status:!1}),this.setState({sef_select:e.value.name+" gr."+e.value.gr_ts})},this.MemSelect=(t,e)=>{var s,a="";for(s=0;s<e.value.length;s++)a+=e.value[s].name+" gr."+e.value[s].gr_ts+",";this.setState({mem_select:a})},this.EmSelect=(t,e)=>{""!==e.value?this.setState({em_status:!0}):this.setState({em_status:!1}),this.setState({em_select:e.value.name}),this.setState({gr_select:e.value.gr_ts})},this.EmInput=t=>{document.getElementById("em_input").innerText=Kt[1]+" gr. 5"},this.InstSelect=(t,e)=>{""!==e.value?this.setState({inst_status:!0}):this.setState({inst_status:!1}),this.setState({inst_select:e.value})},this.InstAd=(t,e)=>{let{value:s}=e;this.setState({inst_ad:s})},this.PtSelect=(t,e)=>{""!==e.value?this.setState({pt_status:!0}):this.setState({pt_status:!1});var s,a="";for(s=0;s<e.value.length;s++)a+=e.value[s].pt+",";this.setState({pt_select:a})},this.FidSelect=(t,e)=>{""!==e.value?this.setState({fid_status:!0}):this.setState({fid_status:!1});var s,a="";for(s=0;s<e.value.length;s++)a+=e.value[s]+",";this.setState({fid_select:a})},this.LucrSelect=(t,e)=>{""!==e.value?this.setState({lucr_status:!0}):this.setState({lucr_status:!1});var s,a=[];for(s=0;s<e.value.length;s++)a+=e.value[s]+",";this.setState({lucr_select:a})},this.SmSelect=(t,e)=>{""!==e.value?this.setState({sm_status:!0}):this.setState({sm_status:!1});var s;for(s=0;s<e.value.length;s++)e.value[s]+",";this.setState({sm_select:e.value})},this.LinkAl=t=>{this.setState({upload_status:!0});const e=new FormData;e.append("file",t.target.files[0]),fetch("http://localhost:5000/upload-file/",{method:"POST",body:e}).then((t=>t.text())).then((t=>this.setState({local_link:t}))).catch((t=>console.log(t)))},this.HandleReus=()=>{document.location.href=`/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()},this.ChAuto=(t,e)=>{fetch("http://localhost:5000/cerinte_ts",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({ts_items:t}))).catch((t=>console.log(t))),this.setState({auto_select:e.checked})},this.TsSelect=(t,e)=>{let{value:s}=e;this.setState({ts_select:s})},this.HandleInreg=()=>{if("Dispecer"===Kt[3])var t=this.state.em_select+" gr. "+this.state.gr_select,e="Acceptat:\n"+te+"\n"+Kt[1];else t="Confirmat:\n"+te+"\n"+document.getElementById("em_input").value,e="Nou inregistrat";if(void 0!==this.state.local_link)var s=this.state.local_link.replace(/[/]|\\/g,",");if(void 0!==this.state.local_link)s=this.state.local_link.replace(/[/]|\\/g,",");void 0===this.state.of_select||void 0===this.state.lucr_select||""===this.state.lucr_select||void 0===this.state.sef_select||"undefined gr.undefined"===this.state.sef_select||void 0===this.state.em_select||"undefined gr.undefined"===this.state.em_select||void 0===this.state.inst_select||""===this.state.inst_select?alert("Nu ati introdus unul din cimpurile obligatorii!"):(this.setState({inreg_status:!0}),fetch(`http://localhost:5000/inreg-ds/${this.state.of_select}/${this.state.dsAl_num}/${this.state.lucr_select}/${this.state.sef_select}/${this.state.mem_select}/${this.state.inst_select}/${this.state.inst_ad}/${this.state.pt_select}/${this.state.fid_select}/${s}/${this.state.auto_select}/${this.state.ts_select}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({emitent:t,starea:e})}).then((t=>t.json())).then((t=>this.setState({success_status:t}))).catch((t=>console.log(t))))}}componentDidMount(){this.setState({dsAl_num:document.location.pathname.slice(-4)}),"Dispecer"===Kt[3]?fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t))):(fetch(`http://localhost:5000/angajati/${Kt[2]}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/pt/${Kt[2]}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t))),this.setState({of_status:!0}),this.setState({of_select:Kt[2]}),this.setState({em_select:Kt[1]+" gr. 5"})),fetch("http://localhost:5000/instalatia/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({inst_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/lucrari/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({lucr_items:t}))).catch((t=>console.log(t))),this.setState({inreg_status:!1}),""!==Kt[1]&&void 0!==Kt[1]||(alert("Nu sinteti logat"),document.cookie="status_cookie=non-approved",document.location.href="/")}render(){const t=this.state.oficii_items.map((t=>({text:t.name,value:t}))),e=[],s=[],a=[];var l;for(l=0;l<this.state.angaj_items.length;l++){if("DA"===this.state.angaj_items[l].sef&&e.push({text:this.state.angaj_items[l].name+" gr. "+this.state.angaj_items[l].gr_ts,value:this.state.angaj_items[l]}),"Dispecer"===Kt[3])"DA"===this.state.angaj_items[l].emitent&&s.push({text:this.state.angaj_items[l].name+" gr. "+this.state.angaj_items[l].gr_ts,value:this.state.angaj_items[l]});else if(this.state.angaj_items[l].name===Kt[1])var c=this.state.angaj_items[l].gr_ts;a.push({text:this.state.angaj_items[l].name+" gr. "+this.state.angaj_items[l].gr_ts,value:this.state.angaj_items[l]})}const o=[];if(void 0!==this.state.inst_items[0])for(l=0;l<this.state.inst_items[0].lista.length;l++)o.push({text:this.state.inst_items[0].lista[l],value:this.state.inst_items[0].lista[l]});const h=this.state.pt_items.map((t=>({text:t.pt,value:t}))),r=[];for(l=1;l<151;l++)r.push({text:l,value:l});const d=[];if(void 0!==this.state.lucr_items[0])for(l=0;l<this.state.lucr_items[0].lista.length;l++)d.push({text:this.state.lucr_items[0].lista[l],value:this.state.lucr_items[0].lista[l]});const j=[];if(void 0!==this.state.ts_items[0])for(l=0;l<this.state.ts_items[0].lista.length;l++)j.push({text:this.state.ts_items[0].lista[l],value:this.state.ts_items[0].lista[l]});return this.state.inreg_status&&this.state.success_status?Object(u.jsx)(wt,{func:this.HandleReus,reg:"Registru AL/DS"}):Object(u.jsxs)(i.a.Fragment,{children:[this.state.inreg_status&&!this.state.success_status||this.state.upload_status&&void 0===this.state.local_link?Object(u.jsx)(f.a,{size:"big",active:!0}):[],Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"/images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"CORECTATI DISPOZITIE"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:["Dispecer"===Kt[3]?Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:"Oficiul",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}):Object(u.jsx)(n.a.Input,{fluid:!0,label:"Oficiul",value:Qt,onChange:this.OfInput,id:"of_input"}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.lucr_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:d,placeholder:"Lucrarile efectuate",search:!0,clearable:!0,multiple:!0,onChange:this.LucrSelect,label:"Lucrarile efectuate"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.sef_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Sef de lucrari",search:!0,clearable:!0,onChange:this.SefSelect,label:"Sef de lucrari"})]}),Object(u.jsx)(n.a.Select,{fluid:!0,options:a,placeholder:"Membrii echipei",search:!0,clearable:!0,multiple:!0,onChange:this.MemSelect,label:"Membrii echipei"})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:["Dispecer"===Kt[3]?Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.em_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:s,placeholder:"Emitent",search:!0,clearable:!0,onChange:this.EmSelect,label:"Emitent"})]}):Object(u.jsx)(n.a.Input,{fluid:!0,label:"Emitent",value:Kt[1]+" gr. "+c,onChange:this.EmInput,id:"em_input"}),Object(u.jsxs)(n.a.Field,{required:!0,children:[!0===this.state.inst_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:o,placeholder:"Instalatia",search:!0,clearable:!0,onChange:this.InstSelect,label:"Instalatia"})]})]}),Object(u.jsx)(n.a.Input,{fluid:!0,label:"Suplimentar (la instalatie)",placeholder:"Pot fi adaugate comentarii de alt ordin",onChange:this.InstAd}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(n.a.Select,{fluid:!0,options:h,placeholder:"PT, denumirea de dispecerat",search:!0,clearable:!0,multiple:!0,onChange:this.PtSelect,label:"PT, denumirea de dispecerat"})}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)(n.a.Select,{fluid:!0,options:r,placeholder:"Fider nr.",search:!0,clearable:!0,multiple:!0,onChange:this.FidSelect,label:"Fider nr."})})]}),Object(u.jsx)(n.a.Checkbox,{label:"Auto completati formular AL/DS",onChange:this.ChAuto}),this.state.auto_select?Object(u.jsx)(n.a.Select,{fluid:!0,options:j,placeholder:"Cerinte Tehnica Securitatii",search:!0,clearable:!0,multiple:!0,onChange:this.TsSelect,label:"Cerinte TS"}):Object(u.jsx)(n.a.Input,{type:"file",onChange:this.LinkAl,label:"Introduceti AL/DS"}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Corectati"})})]})]})}}var se=ee;v();class ae extends i.a.Component{constructor(){super(...arguments),this.state={oficii_items:[],angaj_items:[],sect_items:[],inst_items:[],pt_items:[],of_state:void 0,sect_status:void 0,inst_state:void 0,cont_state:void 0,success_state:void 0,inreg_state:void 0,of_select:void 0,angaj_select:void 0,sect_select:void 0,inst_select:void 0,fid10_select:void 0,pr_select:void 0,fid04_select:void 0,cont_select:void 0},this.OfChoose=(t,e)=>{let{value:s}=e;fetch(`http://localhost:5000/angajati/${s.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/sectoare/${s.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({sect_items:t}))).catch((t=>console.log(t))),fetch(`http://localhost:5000/pt/${s.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({pt_items:t}))).catch((t=>console.log(t))),""!==s?this.setState({of_state:!0}):this.setState({of_state:void 0}),this.setState({of_select:s.abr})},this.AngajSelect=(t,e)=>{let{value:s}=e;this.setState({angaj_select:s.name})},this.SectSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({sect_status:!0}):this.setState({sect_status:void 0}),this.setState({sect_select:s.name})},this.InstSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({inst_state:!0}):this.setState({inst_state:void 0}),this.setState({inst_select:s})},this.Fid10Select=(t,e)=>{let{value:s}=e;this.setState({fid10_select:s})},this.PtSelect=(t,e)=>{let{value:s}=e;this.setState({pt_select:s.pt})},this.Fid04Select=(t,e)=>{let{value:s}=e;this.setState({fid04_select:s})},this.ContSelect=(t,e)=>{let{value:s}=e;""!==s?this.setState({cont_state:!0}):this.setState({cont_state:void 0}),this.setState({cont_select:s})},this.HandleReus=()=>{document.location.href=`/deranj-context/${this.state.of_select}`},this.HandleGreen=()=>{document.location.reload()},this.HandleInreg=()=>{this.state.of_state&&this.state.sect_status&&this.state.inst_state&&this.state.cont_state?(fetch(`http://localhost:5000/inreg-deranj/${this.state.of_select}/${this.state.angaj_select}/${this.state.sect_select}/${this.state.inst_select}/${this.state.fid10_select}/${this.state.pt_select}/${this.state.fid04_select}/${this.state.cont_select}/`,{}).then((t=>t.text())).then((t=>this.setState({success_state:t}))).catch((t=>console.log(t))),this.setState({inreg_state:!0})):alert("Nu ati introdus unul din cimpurile obligatorii!!")}}componentDidMount(){fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t))),fetch("http://localhost:5000/instalatia/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({inst_items:t}))).catch((t=>console.log(t)))}render(){const t=[];for(a=1;a<this.state.oficii_items.length;a++)t.push({text:this.state.oficii_items[a].name,value:this.state.oficii_items[a]});const e=this.state.angaj_items.map((t=>({text:t.name,value:t}))),s=this.state.sect_items.map((t=>({text:t.name,value:t})));var a;const l=[];if(void 0!==this.state.inst_items[0])for(a=0;a<this.state.inst_items[0].lista.length;a++)l.push({text:this.state.inst_items[0].lista[a],value:this.state.inst_items[0].lista[a]});const c=this.state.pt_items.map((t=>({text:t.pt,value:t}))),o=[];for(a=1;a<151;a++)o.push({text:a,value:a});return this.state.inreg_state&&this.state.success_state?Object(u.jsx)(_t,{title:"INREGISTRARE REUSITA DERANJAMENT",func:this.HandleReus,reg:"Registru deranjamente",greenFunc:this.HandleGreen,green:"Inregistrati din nou!"}):Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{className:"up-space"}),Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo-inreg"}),Object(u.jsx)("h1",{className:"bir_disp",children:"INREGISTRATI DERANJAMENT"}),Object(u.jsxs)(n.a,{className:"form-inreg",children:[Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_state?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:t,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.OfChoose,label:"Oficiul"})]}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.AngajSelect,label:"Transmis"})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.sect_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:s,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.SectSelect,label:"Sectorul"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.inst_state?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:l,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.InstSelect,label:"Instalatia"})]})]}),Object(u.jsxs)(n.a.Group,{widths:"equal",children:[Object(u.jsx)(n.a.Input,{onChange:this.Fid10Select,label:"Fider 10kV",placeholder:"Introduceti (Ex: 10PR)"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:c,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.PtSelect,label:"PT"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:o,placeholder:"Alegeti",search:!0,clearable:!0,onChange:this.Fid04Select,label:"Fider 0,4kV"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.cont_state?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.TextArea,{fluid:!0,placeholder:"Introduceti",onChange:this.ContSelect,label:"Continutul"})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleInreg,children:"Inregistrati"})})]})]})}}var ie=ae;class le extends i.a.Component{constructor(){super(...arguments),this.state={excel_control:!1,excel_status:void 0,excel_noserv:!1},this.NeprLunarExcel=()=>{fetch("http://127.0.0.1:5000/nepr-lunar/excel/undefined/",{method:"GET"}).then((t=>this.setState({excel_control:t}))).catch((t=>this.setState({excel_noserv:!0})))},this.HandleBack=()=>{window.history.back()}}componentDidMount(){this.setState({excel_status:!0}),fetch("http://localhost:5000/autorizatii/excel/undefined/",{method:"GET"}),fetch("http://localhost:5000/prog-lunar/excel/undefined/",{method:"GET"}),setTimeout(this.NeprLunarExcel,1e4)}render(){return 403===this.state.excel_control.status?Object(u.jsx)(H,{ErrorWarning:"EROARE 403:",TypeOf:"Nu s-au introdus datele in SAIDI excel!\nPosibil undeva este deschisa aplicatia excel!",erFunc:this.HandleBack,erBtn:"Inapoi"}):this.state.excel_noserv?Object(u.jsx)(H,{ErrorWarning:"EROARE 403:",TypeOf:"Posibil nu este pornit serverul local!",erFunc:this.HandleBack,erBtn:"Inapoi"}):this.state.excel_status&&!this.state.excel_control?Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)(f.a,{size:"big",active:!0}),Object(u.jsx)(H,{ErrorWarning:"ARE LOC PROCEDURA DE EXPORT\nASTEPTATI!",erBtn:"Inapoi"})]}):Object(u.jsx)(i.a.Fragment,{children:Object(u.jsx)(H,{ErrorWarning:"EXPORT EXCEL CU SUCCES!",erFunc:this.HandleBack,erBtn:"Inapoi"})})}}var ce=le;class ne extends i.a.Component{constructor(){super(...arguments),this.state={visible:!1},this._handleContextMenu=t=>{if("TD"===t.target.tagName&&window.getSelection().isCollapsed){t.preventDefault(),this.setState({visible:!0});const e=t.clientX,s=t.clientY,a=window.innerWidth,i=window.innerHeight,l=this.root.offsetWidth,c=this.root.offsetHeight,n=a-e>l,o=!n,h=i-s>c,r=!h;n&&(this.root.style.left=`${e+5}px`),o&&(this.root.style.left=e-l-5+"px"),h&&(this.root.style.top=`${s+5}px`),r&&(this.root.style.top=s-c-5+"px")}},this._handleClick=t=>{const{visible:e}=this.state;!(t.target.contains===this.root)&&e&&this.setState({visible:!1})},this._handleScroll=()=>{const{visible:t}=this.state;t&&this.setState({visible:!1})},this.handleItemClick=(t,e)=>{let{name:s}=e;return this.setState({activeItem:s})}}componentDidMount(){document.addEventListener("contextmenu",this._handleContextMenu),document.addEventListener("click",this._handleClick),document.addEventListener("scroll",this._handleScroll)}componentWillUnmount(){document.removeEventListener("contextmenu",this._handleContextMenu),document.removeEventListener("click",this._handleClick),document.removeEventListener("scroll",this._handleScroll)}render(){const{visible:t}=this.state,{activeItem:e}=this.state;return t?Object(u.jsx)("div",{ref:t=>{this.root=t},className:"contextMenu",children:Object(u.jsx)(y.a,{vertical:!0,size:"large",children:Object(u.jsx)(y.a.Item,{onClick:this.props.mySig,children:"Executat"})})}):null}}var oe=ne;const he=v();class re extends i.a.Component{constructor(){super(...arguments),this.state={of_items:[],sig_items:[],sig_single:{},starea_status:void 0},this.HandleOfPt=t=>{this.setState({sig_items:[]}),fetch(`http://localhost:5000/lista-sig/${t}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({sig_items:t.reverse()}))).catch((t=>console.log(t)))},this.ChOfFunc=(t,e)=>{let{value:s}=e;var a=s.abr;void 0===s.abr&&(a=he[2]),this.HandleOfPt(a),this.setState({of_select:a})},this.SigFunc=()=>{const t=bt(),e=document.getElementById("starea_"+this.state.sig_single._id);e.innerHTML="Executat:\n"+t[0]+"\n"+he[1],e.style.background="rgb(68, 112, 71)",e.style.color="rgb(0, 0, 0)",fetch(`http://localhost:5000/starea-sig/${this.state.sig_single._id}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({starea:e.innerHTML})}).then((t=>t.text())).then((t=>this.setState({starea_status:t}))).catch((t=>console.log(t)))},this.ChColor=t=>e=>{this.setState({sig_single:t});for(var s=3;s<this.state.sig_items.length+3;s++)document.getElementsByTagName("tr")[s].style.background="rgb(230, 230, 230)";document.getElementById("dsAl_"+t._id).style.background="rgb(200, 200, 200)"},this.HandleReload=()=>{document.location.reload()}}componentDidMount(){"sig"===document.location.pathname.slice(-3)?this.HandleOfPt(he[2]):this.HandleOfPt(document.location.pathname.slice(-2))}render(){return"non-approved"===this.state.starea_status?Object(u.jsx)(H,{ErrorWarning:"EROARE 406:",TypeOf:"Starea a fost deja modificata!\n",erFunc:this.HandleReload,erBtn:"Registru sigilii demontate"}):Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)(oe,{mySig:this.SigFunc}),Object(u.jsx)(A,{}),Object(u.jsx)("div",{className:"drop-oficii",children:Object(u.jsx)(m,{myChoose:this.ChOfFunc})}),Object(u.jsxs)("table",{className:"centerAL",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"9",children:Object(u.jsx)("img",{src:"/images/sigilii.jpg",alt:"header banner",className:"banner"})})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"9",className:"th-al-title",children:"REGISTRU SIGILII DEMONTATE"})}),0===this.state.sig_items.length?Object(u.jsx)(f.a,{size:"big",active:!0}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"th-al-column-name",children:"Oficiul"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nr.ordine"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cont"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Adresa"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Nume, prenume"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Cauza demontarii"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Dispecer"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Executor"}),Object(u.jsx)("th",{className:"th-al-column-name",children:"Starea"})]})]}),Object(u.jsx)("tbody",{children:this.state.sig_items.map((t=>Object(u.jsxs)("tr",{id:"dsAl_"+t._id,className:"tr-al",onClick:this.ChColor(t),onContextMenu:this.ChColor(t),children:[Object(u.jsx)("td",{className:"UN"===t.oficiul?"un":"FL"===t.oficiul?"fl":"GL"===t.oficiul?"gl":"RS"===t.oficiul?"rs":"",children:t.oficiul}),Object(u.jsx)("td",{children:t._id}),Object(u.jsx)("td",{children:t.cont}),Object(u.jsx)("td",{children:t.adresa}),Object(u.jsx)("td",{children:t.nume_cons}),Object(u.jsx)("td",{children:t.cauza_sig}),Object(u.jsx)("td",{className:t.disp.includes("Acceptat:")?"acceptat":"",children:t.disp}),Object(u.jsx)("td",{children:t.exec}),Object(u.jsx)("td",{id:"starea_"+t._id,className:t.starea.includes("Nou inregistrat")?"nou-inregistrat":t.starea.includes("Executat:")?"executat":[],children:t.starea})]},t._id)))})]})]})}}var de=re;class ue extends i.a.Component{constructor(){super(...arguments),this.state={menu:""}}componentDidMount(){setInterval(this.ReloadWindow,6e4)}ReloadWindow(){const t=bt();"08"!==t[4]&&"20"!==t[4]||"00"!==t[5]||(document.cookie="status_cookie=non-approved",document.cookie="of_cookie=",document.cookie="angaj_cookie=",document.location.href="/",document.location.href="/")}render(){return Object(u.jsx)(i.a.Fragment,{children:Object(u.jsxs)(h.a,{children:[Object(u.jsxs)(o.slide,{children:[Object(u.jsx)("h3",{className:"no-link",children:"REGISTRE"}),Object(u.jsx)(h.b,{to:"/",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Autorizatii (AL/DS)"})}),Object(u.jsx)(h.b,{to:"/deranj-context",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Deranjamente"})}),Object(u.jsx)(h.b,{to:"/lista-sig",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Sigilii demontate"})}),Object(u.jsx)("h3",{className:"no-link",children:"INREGISTRATI"}),Object(u.jsx)(h.b,{to:"/inreg-al",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Autorizatie (Dispozitie)"})}),Object(u.jsx)(h.b,{to:"/inreg-dec",children:Object(u.jsxs)("p",{style:{paddingLeft:"50px"},children:["Deconectare",Object(u.jsx)("br",{}),"neprogramata"]})}),Object(u.jsx)(h.b,{to:"/inreg-deranj",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Deranjament"})}),Object(u.jsx)(h.b,{to:"/inreg-sig",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Demontare sigiliu"})}),Object(u.jsxs)("h3",{className:"no-link",children:["DECONECTARI",Object(u.jsx)("br",{}),"NEPROGRAMATE"]}),Object(u.jsx)(h.b,{to:"/nepr-anual",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Anual (nepr.)"})}),Object(u.jsx)(h.b,{to:"/nepr-lunar",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Lunar (nepr.)"})}),Object(u.jsxs)("h3",{className:"no-link",children:["DECONECTARI",Object(u.jsx)("br",{}),"PROGRAMATE"]}),Object(u.jsx)(h.b,{to:"/prog-anual",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Anual (prog.)"})}),Object(u.jsx)(h.b,{to:"/prog-lunar",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Lunar (prog.)"})}),Object(u.jsx)("h3",{className:"no-link",children:"LISTE"}),Object(u.jsx)(h.b,{to:"/lista-pt",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Lista PT"})}),Object(u.jsx)(h.b,{to:"/lista-angaj",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Angajati"})}),Object(u.jsx)("h3",{className:"no-link",children:"SETARI"}),Object(u.jsx)(h.b,{to:"/adaug-pt",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Adaugati PT"})}),Object(u.jsx)(h.b,{to:"/sterg-pt",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Sergeti PT"})}),Object(u.jsx)(h.b,{to:"/adaug-angaj",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Adaugati angajat"})}),Object(u.jsx)(h.b,{to:"/sterg-angaj",children:Object(u.jsx)("p",{style:{paddingLeft:"50px"},children:"Stergeti angajat"})}),Object(u.jsx)(h.b,{to:"/excel",children:Object(u.jsx)("h3",{children:"EXPORT EXCEL"})}),Object(u.jsx)(h.b,{to:"/logout",children:Object(u.jsx)("h3",{children:"LOGOUT"})})]}),Object(u.jsx)(h.b,{to:"/corect-al"}),Object(u.jsx)(h.b,{to:"/corect-ds"}),Object(u.jsxs)(r.c,{children:[Object(u.jsx)(r.a,{path:"/corect-ds",children:Object(u.jsx)(se,{})}),Object(u.jsx)(r.a,{path:"/corect-al",children:Object(u.jsx)(Zt,{})}),Object(u.jsx)(r.a,{path:"/inreg-deranj",children:Object(u.jsx)(ie,{})}),Object(u.jsx)(r.a,{path:"/inreg-sig",children:Object(u.jsx)(zt,{})}),Object(u.jsx)(r.a,{path:"/lista-angaj",children:Object(u.jsx)(Ft,{})}),Object(u.jsx)(r.a,{path:"/lista-pt",children:Object(u.jsx)(Tt,{})}),Object(u.jsx)(r.a,{path:"/inreg-dec",children:Object(u.jsx)(Gt,{})}),Object(u.jsx)(r.a,{path:"/inreg-al",children:Object(u.jsx)(vt,{})}),Object(u.jsx)(r.a,{path:"/sterg-angaj",children:Object(u.jsx)(kt,{})}),Object(u.jsx)(r.a,{path:"/adaug-angaj",children:Object(u.jsx)($t,{})}),Object(u.jsx)(r.a,{path:"/adaug-pt",children:Object(u.jsx)(Nt,{})}),Object(u.jsx)(r.a,{path:"/sterg-pt",children:Object(u.jsx)(Ht,{})}),Object(u.jsx)(r.a,{path:"/excel",children:Object(u.jsx)(ce,{})}),Object(u.jsx)(r.a,{path:"/logout",children:Object(u.jsx)(ut,{})}),Object(u.jsx)(r.a,{path:"/prog-lunar",children:Object(u.jsx)(rt,{})}),Object(u.jsx)(r.a,{path:"/prog-anual",children:Object(u.jsx)(nt,{})}),Object(u.jsx)(r.a,{path:"/nepr-lunar",children:Object(u.jsx)(it,{})}),Object(u.jsx)(r.a,{path:"/nepr-anual",children:Object(u.jsx)(Q,{})}),Object(u.jsx)(r.a,{path:"/lista-sig",children:Object(u.jsx)(de,{})}),Object(u.jsx)(r.a,{path:"/deranj-context",children:Object(u.jsx)(X,{})}),Object(u.jsx)(r.a,{path:"/",children:Object(u.jsx)(M,{})})]})]})})}}var je=ue;class me extends a.Component{constructor(){super(...arguments),this.state={oficii_items:[],of_select:"",angaj_items:[],angaj_name:"",pass_item:"",status_log:[],of_status:void 0,name_status:void 0,pass_status:void 0},this.OfChoose=(t,e)=>{fetch(`http://localhost:5000/angajati/${e.value.abr}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({angaj_items:t}))).catch((t=>console.log(t))),this.setState({of_select:e.value.abr}),void 0!==e.value.abr?this.setState({of_status:!0}):this.setState({of_status:void 0})},this.NameChange=(t,e)=>{this.setState({angaj_name:e.value.name}),void 0!==e.value.name?this.setState({name_status:!0}):this.setState({name_status:void 0})},this.HandlePass=(t,e)=>{this.setState({pass_item:e.value}),""!==e.value?this.setState({pass_status:!0}):this.setState({pass_status:void 0})},this.HandleLogin=()=>{""!==this.state.pass_item&&""!==this.state.angaj_name&&""!==this.state.of_select?fetch(`http://localhost:5000/log/${this.state.of_select}/${this.state.angaj_name}/${this.state.pass_item}/`,{method:"GET"}).then((t=>t.json())).then((t=>this.setState({status_log:t}))).catch((t=>console.log(t))):alert("Nu ati introdus unul din cimpurile obligatorii!!")}}componentDidMount(){fetch("http://localhost:5000/oficii/",{method:"GET"}).then((t=>t.json())).then((t=>this.setState({oficii_items:t}))).catch((t=>console.log(t)))}render(){var t=v();const e=this.state.oficii_items.map((t=>({text:t.name,value:t}))),s=this.state.angaj_items.map((t=>({text:t.name,value:t})));return 0===this.state.status_log.length&&"approved"!==t[0]?Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo"}),Object(u.jsx)("h1",{className:"bir_disp",children:"BIROUL DISPECERULUI"}),Object(u.jsxs)(n.a,{className:"form-enter",children:[Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("h1",{className:"logare-text",children:"Logare in aplicatie:"})}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Oficiu",search:!0,clearable:!0,onChange:this.OfChoose})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.name_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:s,placeholder:"Nume P.",search:!0,clearable:!0,onChange:this.NameChange})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.pass_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{fluid:!0,placeholder:"Introduceti parola unica",onChange:this.HandlePass,type:"password"})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleLogin,children:"Login"})})]})]}):"approved"===this.state.status_log.status&&"approved"!==t[0]?(document.cookie="status_cookie=approved",document.cookie=`of_cookie=${this.state.of_select}`,document.cookie=`angaj_cookie=${this.state.angaj_name}`,document.cookie=`position=${this.state.status_log.position}`,Object(u.jsx)(je,{})):"approved"===t[0]?Object(u.jsx)(je,{}):Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("img",{src:"images/ataman_enter.png",alt:"Loc pentru logo",className:"logo"}),Object(u.jsx)("h1",{className:"bir_disp",children:"BIROUL DISPECERULUI"}),Object(u.jsxs)(n.a,{className:"form-enter",children:[Object(u.jsxs)(n.a.Field,{children:[Object(u.jsx)("h1",{className:"logare-text",children:"Logare in aplicatie:"}),Object(u.jsx)("h3",{className:"no-pass",children:"Nu corespunde numele angajatului cu parola!"})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.of_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:e,placeholder:"Oficiu",search:!0,clearable:!0,onChange:this.OfChoose})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.name_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Select,{fluid:!0,options:s,placeholder:"Nume P.",search:!0,clearable:!0,onChange:this.NameChange})]}),Object(u.jsxs)(n.a.Field,{required:!0,children:[this.state.pass_status?[]:Object(u.jsx)("label",{className:"obligatoriu",children:"Obligatoriu"}),Object(u.jsx)(n.a.Input,{fluid:!0,placeholder:"Introduceti parola unica",onChange:this.HandlePass,type:"password"})]}),Object(u.jsx)(n.a.Field,{children:Object(u.jsx)("button",{className:"login",onClick:this.HandleLogin,children:"Login"})})]})]})}}var _e=me;s(473);class be extends i.a.Component{render(){return Object(u.jsx)(i.a.Fragment,{children:Object(u.jsx)(_e,{})})}}var pe=be;var ge=t=>{t&&t instanceof Function&&s.e(3).then(s.bind(null,524)).then((e=>{let{getCLS:s,getFID:a,getFCP:i,getLCP:l,getTTFB:c}=e;s(t),a(t),i(t),l(t),c(t)}))};c.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(pe,{})}),document.getElementById("root")),ge()},65:function(t,e,s){},66:function(t,e,s){}},[[474,1,2]]]);
//# sourceMappingURL=main.291f3b32.chunk.js.map